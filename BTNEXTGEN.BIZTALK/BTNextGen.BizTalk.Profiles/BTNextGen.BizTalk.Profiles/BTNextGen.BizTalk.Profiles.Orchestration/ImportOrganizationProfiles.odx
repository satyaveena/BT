#if __DESIGNER_DATA
#error Do not define __DESIGNER_DATA.
<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<om:MetaModel MajorVersion="1" MinorVersion="3" Core="2b131234-7959-458d-834f-2dc0769ce683" ScheduleModel="66366196-361d-448d-976f-cab5e87496d2" xmlns:om="http://schemas.microsoft.com/BizTalk/2003/DesignerData">
    <om:Element Type="Module" OID="51bb199b-251a-43fd-bc85-19accb936aa5" LowerBound="1.1" HigherBound="577.1">
        <om:Property Name="ReportToAnalyst" Value="True" />
        <om:Property Name="Name" Value="BTNextGen.BizTalk.OrganizationProfiles.Orchestration" />
        <om:Property Name="Signal" Value="False" />
        <om:Element Type="PortType" OID="64830898-489b-4ca4-8c43-8071e4252ae2" ParentLink="Module_PortType" LowerBound="4.1" HigherBound="11.1">
            <om:Property Name="Synchronous" Value="False" />
            <om:Property Name="TypeModifier" Value="Internal" />
            <om:Property Name="ReportToAnalyst" Value="True" />
            <om:Property Name="Name" Value="ReceiveOrgDetailsPortType" />
            <om:Property Name="Signal" Value="False" />
            <om:Element Type="OperationDeclaration" OID="4dbaa7e5-ce3e-4153-9cb8-b0f42f96ca00" ParentLink="PortType_OperationDeclaration" LowerBound="6.1" HigherBound="10.1">
                <om:Property Name="OperationType" Value="OneWay" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="Operation_1" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="MessageRef" OID="65bb308a-2e98-4731-995d-29887ae39c7c" ParentLink="OperationDeclaration_RequestMessageRef" LowerBound="8.13" HigherBound="8.116">
                    <om:Property Name="Ref" Value="BTNextGen.BizTalk.Profiles.Schemas.ProcedureResultSet_dbo_procGetOrganization.StoredProcedureResultSet0" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="Request" />
                    <om:Property Name="Signal" Value="True" />
                </om:Element>
            </om:Element>
        </om:Element>
        <om:Element Type="PortType" OID="5c126f8f-f809-460e-964c-0d5cb7eab504" ParentLink="Module_PortType" LowerBound="11.1" HigherBound="18.1">
            <om:Property Name="Synchronous" Value="False" />
            <om:Property Name="TypeModifier" Value="Internal" />
            <om:Property Name="ReportToAnalyst" Value="True" />
            <om:Property Name="Name" Value="archiveOrgProfilesInPortType" />
            <om:Property Name="Signal" Value="False" />
            <om:Element Type="OperationDeclaration" OID="a9651c71-0adf-4a4b-9fd3-973bb5fa102c" ParentLink="PortType_OperationDeclaration" LowerBound="13.1" HigherBound="17.1">
                <om:Property Name="OperationType" Value="OneWay" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="archiveIn" />
                <om:Property Name="Signal" Value="True" />
                <om:Element Type="MessageRef" OID="f4663733-1c05-4780-b569-e807cfd59625" ParentLink="OperationDeclaration_RequestMessageRef" LowerBound="15.13" HigherBound="15.116">
                    <om:Property Name="Ref" Value="BTNextGen.BizTalk.Profiles.Schemas.ProcedureResultSet_dbo_procGetOrganization.StoredProcedureResultSet0" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="Request" />
                    <om:Property Name="Signal" Value="True" />
                </om:Element>
            </om:Element>
        </om:Element>
        <om:Element Type="PortType" OID="92550bbd-8975-48d3-8fc8-a302d089d519" ParentLink="Module_PortType" LowerBound="18.1" HigherBound="25.1">
            <om:Property Name="Synchronous" Value="False" />
            <om:Property Name="TypeModifier" Value="Internal" />
            <om:Property Name="ReportToAnalyst" Value="True" />
            <om:Property Name="Name" Value="archiveOutPortType" />
            <om:Property Name="Signal" Value="False" />
            <om:Element Type="OperationDeclaration" OID="7fa3569f-e3d0-48e2-9a17-f9d71c5a5605" ParentLink="PortType_OperationDeclaration" LowerBound="20.1" HigherBound="24.1">
                <om:Property Name="OperationType" Value="OneWay" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="Operation_1" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="MessageRef" OID="ee0d40d3-e0de-4942-abc9-3adb9b38ce70" ParentLink="OperationDeclaration_RequestMessageRef" LowerBound="22.13" HigherBound="22.60">
                    <om:Property Name="Ref" Value="BTNextGen.BizTalk.CS.Profiles.Schemas.BTProfile" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="Request" />
                    <om:Property Name="Signal" Value="True" />
                </om:Element>
            </om:Element>
        </om:Element>
        <om:Element Type="PortType" OID="dad6533d-65bf-4fc6-a10d-7a14974d2a8f" ParentLink="Module_PortType" LowerBound="25.1" HigherBound="32.1">
            <om:Property Name="Synchronous" Value="True" />
            <om:Property Name="TypeModifier" Value="Internal" />
            <om:Property Name="ReportToAnalyst" Value="True" />
            <om:Property Name="Name" Value="SendOrgDetailsCommercePortType" />
            <om:Property Name="Signal" Value="False" />
            <om:Element Type="OperationDeclaration" OID="80f0b1d1-b94c-4d09-8075-05e5b85e95b4" ParentLink="PortType_OperationDeclaration" LowerBound="27.1" HigherBound="31.1">
                <om:Property Name="OperationType" Value="RequestResponse" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="Operation_1" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="MessageRef" OID="1f3a29a7-3a06-45a7-9815-23043230f0db" ParentLink="OperationDeclaration_RequestMessageRef" LowerBound="29.13" HigherBound="29.60">
                    <om:Property Name="Ref" Value="BTNextGen.BizTalk.CS.Profiles.Schemas.BTProfile" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="Request" />
                    <om:Property Name="Signal" Value="True" />
                </om:Element>
                <om:Element Type="MessageRef" OID="131baa95-d8ae-418c-8404-6f531a4a782c" ParentLink="OperationDeclaration_ResponseMessageRef" LowerBound="29.62" HigherBound="29.122">
                    <om:Property Name="Ref" Value="BTNextGen.BizTalk.CS.Profiles.Schemas.ProfilesImportResponse" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="Response" />
                    <om:Property Name="Signal" Value="True" />
                </om:Element>
            </om:Element>
        </om:Element>
        <om:Element Type="PortType" OID="99abdd76-5c87-4cad-8318-2ea71fdf13d5" ParentLink="Module_PortType" LowerBound="32.1" HigherBound="39.1">
            <om:Property Name="Synchronous" Value="False" />
            <om:Property Name="TypeModifier" Value="Internal" />
            <om:Property Name="ReportToAnalyst" Value="True" />
            <om:Property Name="Name" Value="archiveResponsePortType" />
            <om:Property Name="Signal" Value="False" />
            <om:Element Type="OperationDeclaration" OID="1e3082fb-c730-4a1f-97cd-be5a5fcb822d" ParentLink="PortType_OperationDeclaration" LowerBound="34.1" HigherBound="38.1">
                <om:Property Name="OperationType" Value="OneWay" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="archiveResp" />
                <om:Property Name="Signal" Value="True" />
                <om:Element Type="MessageRef" OID="8e7dfbbe-c5a2-4c15-9941-b0dda55a3c9a" ParentLink="OperationDeclaration_RequestMessageRef" LowerBound="36.13" HigherBound="36.73">
                    <om:Property Name="Ref" Value="BTNextGen.BizTalk.CS.Profiles.Schemas.ProfilesImportResponse" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="Request" />
                    <om:Property Name="Signal" Value="True" />
                </om:Element>
            </om:Element>
        </om:Element>
        <om:Element Type="PortType" OID="c4a32770-541e-4912-a597-a1e3430e678a" ParentLink="Module_PortType" LowerBound="39.1" HigherBound="46.1">
            <om:Property Name="Synchronous" Value="False" />
            <om:Property Name="TypeModifier" Value="Internal" />
            <om:Property Name="ReportToAnalyst" Value="True" />
            <om:Property Name="Name" Value="SetErrorStatusPortType" />
            <om:Property Name="Signal" Value="False" />
            <om:Element Type="OperationDeclaration" OID="872bf576-5f9a-4602-abbc-5ae028a92fa6" ParentLink="PortType_OperationDeclaration" LowerBound="41.1" HigherBound="45.1">
                <om:Property Name="OperationType" Value="OneWay" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="UpdateSql" />
                <om:Property Name="Signal" Value="True" />
                <om:Element Type="MessageRef" OID="a168ec83-8042-437f-b615-c68ca9ff2787" ParentLink="OperationDeclaration_RequestMessageRef" LowerBound="43.13" HigherBound="43.99">
                    <om:Property Name="Ref" Value="BTNextGen.BizTalk.Profiles.Schemas.SetOrgResponseSqlProcedure.procSetOrganizationError" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="Request" />
                    <om:Property Name="Signal" Value="True" />
                </om:Element>
            </om:Element>
        </om:Element>
        <om:Element Type="PortType" OID="60e3e033-2a08-4ca5-9bb2-f00ffb954cd9" ParentLink="Module_PortType" LowerBound="46.1" HigherBound="53.1">
            <om:Property Name="Synchronous" Value="False" />
            <om:Property Name="TypeModifier" Value="Internal" />
            <om:Property Name="ReportToAnalyst" Value="True" />
            <om:Property Name="Name" Value="SubmitUsersNotificationPortType" />
            <om:Property Name="Signal" Value="False" />
            <om:Element Type="OperationDeclaration" OID="a55fa561-ecad-4adc-bf2f-6c38bca86e14" ParentLink="PortType_OperationDeclaration" LowerBound="48.1" HigherBound="52.1">
                <om:Property Name="OperationType" Value="OneWay" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="submitMsgBox" />
                <om:Property Name="Signal" Value="True" />
                <om:Element Type="MessageRef" OID="331c49b5-9a32-4d1a-8b94-2275b05daf91" ParentLink="OperationDeclaration_RequestMessageRef" LowerBound="50.13" HigherBound="50.95">
                    <om:Property Name="Ref" Value="BTNextGen.BizTalk.Profiles.Schemas.GetReviewTypeFromLegacy.procGetBTUserReviewType" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="Request" />
                    <om:Property Name="Signal" Value="True" />
                </om:Element>
            </om:Element>
        </om:Element>
        <om:Element Type="PortType" OID="b141865e-1c68-4da5-a67e-dd87d56ab4a5" ParentLink="Module_PortType" LowerBound="53.1" HigherBound="60.1">
            <om:Property Name="Synchronous" Value="False" />
            <om:Property Name="TypeModifier" Value="Internal" />
            <om:Property Name="ReportToAnalyst" Value="True" />
            <om:Property Name="Name" Value="SendFaultMessagePortType" />
            <om:Property Name="Signal" Value="False" />
            <om:Element Type="OperationDeclaration" OID="089ddc11-35a4-47ef-a887-e421557a837c" ParentLink="PortType_OperationDeclaration" LowerBound="55.1" HigherBound="59.1">
                <om:Property Name="OperationType" Value="OneWay" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="Operation_1" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="MessageRef" OID="e6901d81-e95f-404a-b846-179ae6cf8707" ParentLink="OperationDeclaration_RequestMessageRef" LowerBound="57.13" HigherBound="57.82">
                    <om:Property Name="Ref" Value="Microsoft.Practices.ESB.ExceptionHandling.Schemas.Faults.FaultMessage" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="Request" />
                    <om:Property Name="Signal" Value="True" />
                </om:Element>
            </om:Element>
        </om:Element>
        <om:Element Type="PortType" OID="a364b6d6-f926-48f7-b87e-349bf48308a6" ParentLink="Module_PortType" LowerBound="60.1" HigherBound="67.1">
            <om:Property Name="Synchronous" Value="False" />
            <om:Property Name="TypeModifier" Value="Internal" />
            <om:Property Name="ReportToAnalyst" Value="True" />
            <om:Property Name="Name" Value="GetUsersSqlSendPortType" />
            <om:Property Name="Signal" Value="False" />
            <om:Element Type="OperationDeclaration" OID="65ed6975-f413-42f6-8e50-fd81a51f0439" ParentLink="PortType_OperationDeclaration" LowerBound="62.1" HigherBound="66.1">
                <om:Property Name="OperationType" Value="OneWay" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="InvokeUserOrchestration" />
                <om:Property Name="Signal" Value="True" />
                <om:Element Type="MessageRef" OID="c7cbedd0-2fc9-493b-88f8-1fe6c0ed6913" ParentLink="OperationDeclaration_RequestMessageRef" LowerBound="64.13" HigherBound="64.85">
                    <om:Property Name="Ref" Value="BTNextGen.BizTalk.Profiles.Schemas.GetUserProfilesFromLegacy.procGetUser" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="Request" />
                    <om:Property Name="Signal" Value="True" />
                </om:Element>
            </om:Element>
        </om:Element>
        <om:Element Type="PortType" OID="98883e6c-7fe0-4ab1-9266-8b0661bcf512" ParentLink="Module_PortType" LowerBound="67.1" HigherBound="74.1">
            <om:Property Name="Synchronous" Value="False" />
            <om:Property Name="TypeModifier" Value="Internal" />
            <om:Property Name="ReportToAnalyst" Value="True" />
            <om:Property Name="Name" Value="GetAccountsSqlSendPortType" />
            <om:Property Name="Signal" Value="False" />
            <om:Element Type="OperationDeclaration" OID="443c2fd3-77cc-4f8d-8cc7-2ba04b40b2c7" ParentLink="PortType_OperationDeclaration" LowerBound="69.1" HigherBound="73.1">
                <om:Property Name="OperationType" Value="OneWay" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="InvokeAccountsOrchestration" />
                <om:Property Name="Signal" Value="True" />
                <om:Element Type="MessageRef" OID="2c81fdbc-b0c7-4160-ae50-6211b698de31" ParentLink="OperationDeclaration_RequestMessageRef" LowerBound="71.13" HigherBound="71.99">
                    <om:Property Name="Ref" Value="BTNextGen.BizTalk.Profiles.Schemas.GetAccountProfileDetailsFromLegacy.procGetBTAccount" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="Request" />
                    <om:Property Name="Signal" Value="True" />
                </om:Element>
            </om:Element>
        </om:Element>
        <om:Element Type="PortType" OID="43706f4a-5eaf-494b-87d9-f5b5f98e8ead" ParentLink="Module_PortType" LowerBound="74.1" HigherBound="81.1">
            <om:Property Name="Synchronous" Value="False" />
            <om:Property Name="TypeModifier" Value="Internal" />
            <om:Property Name="ReportToAnalyst" Value="True" />
            <om:Property Name="Name" Value="GetReviewSqlSendPortType" />
            <om:Property Name="Signal" Value="False" />
            <om:Element Type="OperationDeclaration" OID="c3182a28-a7af-478e-b96a-cdae96338558" ParentLink="PortType_OperationDeclaration" LowerBound="76.1" HigherBound="80.1">
                <om:Property Name="OperationType" Value="OneWay" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="Operation_1" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="MessageRef" OID="09f1470b-17d1-4333-9faf-457866bc31c7" ParentLink="OperationDeclaration_RequestMessageRef" LowerBound="78.13" HigherBound="78.95">
                    <om:Property Name="Ref" Value="BTNextGen.BizTalk.Profiles.Schemas.GetReviewTypeFromLegacy.procGetBTUserReviewType" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="Request" />
                    <om:Property Name="Signal" Value="False" />
                </om:Element>
            </om:Element>
        </om:Element>
        <om:Element Type="PortType" OID="3e4d4aa3-8add-4232-86a9-b91253ea9c5f" ParentLink="Module_PortType" LowerBound="81.1" HigherBound="88.1">
            <om:Property Name="Synchronous" Value="True" />
            <om:Property Name="TypeModifier" Value="Internal" />
            <om:Property Name="ReportToAnalyst" Value="True" />
            <om:Property Name="Name" Value="AddressCSPortType" />
            <om:Property Name="Signal" Value="False" />
            <om:Element Type="OperationDeclaration" OID="76a9e561-4334-44dd-8cad-0da0abbb07ae" ParentLink="PortType_OperationDeclaration" LowerBound="83.1" HigherBound="87.1">
                <om:Property Name="OperationType" Value="RequestResponse" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="Operation_1" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="MessageRef" OID="b8524814-04a0-4783-9fb6-da38e465bca6" ParentLink="OperationDeclaration_RequestMessageRef" LowerBound="85.13" HigherBound="85.60">
                    <om:Property Name="Ref" Value="BTNextGen.BizTalk.CS.Profiles.Schemas.BTProfile" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="Request" />
                    <om:Property Name="Signal" Value="True" />
                </om:Element>
                <om:Element Type="MessageRef" OID="ef642a97-4c74-4e18-806b-46cd203db67a" ParentLink="OperationDeclaration_ResponseMessageRef" LowerBound="85.62" HigherBound="85.122">
                    <om:Property Name="Ref" Value="BTNextGen.BizTalk.CS.Profiles.Schemas.ProfilesImportResponse" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="Response" />
                    <om:Property Name="Signal" Value="True" />
                </om:Element>
            </om:Element>
        </om:Element>
        <om:Element Type="PortType" OID="3adbdb6f-0c32-4674-b761-ba5395b557d4" ParentLink="Module_PortType" LowerBound="88.1" HigherBound="95.1">
            <om:Property Name="Synchronous" Value="False" />
            <om:Property Name="TypeModifier" Value="Internal" />
            <om:Property Name="ReportToAnalyst" Value="True" />
            <om:Property Name="Name" Value="archiveWCFReqPortType" />
            <om:Property Name="Signal" Value="False" />
            <om:Element Type="OperationDeclaration" OID="66d6c7f6-36ae-4846-854d-05f2c6a0c0b4" ParentLink="PortType_OperationDeclaration" LowerBound="90.1" HigherBound="94.1">
                <om:Property Name="OperationType" Value="OneWay" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="Operation_1" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="MessageRef" OID="7f3ca87c-e31f-4445-9dd3-ad95e833e748" ParentLink="OperationDeclaration_RequestMessageRef" LowerBound="92.13" HigherBound="92.101">
                    <om:Property Name="Ref" Value="BTNextGen.BizTalk.Profiles.Orchestration.IIProfile_RemoveAssociatedAccounts_InputMessage" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="Request" />
                    <om:Property Name="Signal" Value="False" />
                </om:Element>
            </om:Element>
        </om:Element>
        <om:Element Type="PortType" OID="301c11c4-90a4-41a3-9d4c-893807ff2770" ParentLink="Module_PortType" LowerBound="95.1" HigherBound="102.1">
            <om:Property Name="Synchronous" Value="False" />
            <om:Property Name="TypeModifier" Value="Internal" />
            <om:Property Name="ReportToAnalyst" Value="True" />
            <om:Property Name="Name" Value="archiveWCFResponsePortType" />
            <om:Property Name="Signal" Value="False" />
            <om:Element Type="OperationDeclaration" OID="de59e255-9184-4b80-8f3c-40dc4e7ccf66" ParentLink="PortType_OperationDeclaration" LowerBound="97.1" HigherBound="101.1">
                <om:Property Name="OperationType" Value="OneWay" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="Operation_1" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="MessageRef" OID="e476b5e3-7e66-485e-966b-b50540ec2409" ParentLink="OperationDeclaration_RequestMessageRef" LowerBound="99.13" HigherBound="99.102">
                    <om:Property Name="Ref" Value="BTNextGen.BizTalk.Profiles.Orchestration.IIProfile_RemoveAssociatedAccounts_OutputMessage" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="Request" />
                    <om:Property Name="Signal" Value="False" />
                </om:Element>
            </om:Element>
        </om:Element>
        <om:Element Type="ServiceDeclaration" OID="04cc4eb1-94f2-485c-a6aa-d6e4a8b67e08" ParentLink="Module_ServiceDeclaration" LowerBound="102.1" HigherBound="576.1">
            <om:Property Name="InitializedTransactionType" Value="True" />
            <om:Property Name="IsInvokable" Value="False" />
            <om:Property Name="TypeModifier" Value="Internal" />
            <om:Property Name="ReportToAnalyst" Value="True" />
            <om:Property Name="Name" Value="ImportOrganizationProfiles" />
            <om:Property Name="Signal" Value="True" />
            <om:Element Type="VariableDeclaration" OID="14ec5501-db2d-4190-a7b5-a91711649f33" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="151.1" HigherBound="152.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.String" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="faultErrorDesc" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="2dc622b8-ddf1-4962-bc1c-84f6da55c304" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="152.1" HigherBound="153.1">
                <om:Property Name="UseDefaultConstructor" Value="True" />
                <om:Property Name="Type" Value="System.Xml.XmlDocument" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="xDoc" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="aba861b6-3085-4d38-8fec-99d073b854bd" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="153.1" HigherBound="154.1">
                <om:Property Name="UseDefaultConstructor" Value="True" />
                <om:Property Name="Type" Value="System.Xml.XmlDocument" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="xmlDocwcfReq" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="bebe7408-265f-41cd-bbaa-ea8421da604c" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="154.1" HigherBound="155.1">
                <om:Property Name="InitialValue" Value="false" />
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.Boolean" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="isFailed" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="5879c86a-ceb6-4d74-af90-12ec70fbfa85" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="155.1" HigherBound="156.1">
                <om:Property Name="UseDefaultConstructor" Value="True" />
                <om:Property Name="Type" Value="System.Text.StringBuilder" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="strCompleteErrorResponse" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="9315885c-b636-4547-8731-647861d3cf66" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="156.1" HigherBound="157.1">
                <om:Property Name="UseDefaultConstructor" Value="True" />
                <om:Property Name="Type" Value="System.Xml.XmlDocument" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="xmlDocAccounts" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="6a804f29-027e-4a7f-8bb5-bbb619220d5d" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="157.1" HigherBound="158.1">
                <om:Property Name="UseDefaultConstructor" Value="True" />
                <om:Property Name="Type" Value="System.Xml.XmlDocument" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="xmlDocUsers" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="f9379900-1004-4293-976e-0ffe22a465b5" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="158.1" HigherBound="159.1">
                <om:Property Name="UseDefaultConstructor" Value="True" />
                <om:Property Name="Type" Value="System.Xml.XmlDocument" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="userReviewNotifyXml" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="f68e47a7-4f01-45cb-b68a-4287f729fa82" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="159.1" HigherBound="160.1">
                <om:Property Name="UseDefaultConstructor" Value="True" />
                <om:Property Name="Type" Value="System.Xml.XmlDocument" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="usersNotifyXml" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="22c7285f-afde-4de1-901a-9a48d5b01f8d" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="160.1" HigherBound="161.1">
                <om:Property Name="UseDefaultConstructor" Value="True" />
                <om:Property Name="Type" Value="System.Xml.XmlDocument" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="accountNotifyXml" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="8ee7636b-c815-49d3-a052-889dcc22d551" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="161.1" HigherBound="162.1">
                <om:Property Name="UseDefaultConstructor" Value="True" />
                <om:Property Name="Type" Value="System.Xml.XmlDocument" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="xmldoc" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="02459cd0-f0c3-438b-a24e-5b7b90c7e420" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="162.1" HigherBound="163.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.String" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="strResponseText" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="2caabbc4-029a-4e80-b4ad-31e84ad6fd86" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="163.1" HigherBound="164.1">
                <om:Property Name="InitialValue" Value="0" />
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.Int32" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="legacyOrgID" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="b8e4a915-cdcd-40a9-931f-38800f24dbc5" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="164.1" HigherBound="165.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.Int32" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="intInvalidResponseCount" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="ad899997-eb6a-458b-ab96-d96260fafb75" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="165.1" HigherBound="166.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.String" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="legacySource" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="df728165-bde2-43bd-857d-5a3cf733be40" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="166.1" HigherBound="167.1">
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.String" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="legacyOrgGuid" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="52363ec0-53e8-497f-a501-7ed11d4ecc01" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="167.1" HigherBound="168.1">
                <om:Property Name="InitialValue" Value="true" />
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.Boolean" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="isOrgArchive" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="778f12fe-3cd9-40e7-a8c4-e8ac1e1b10ce" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="168.1" HigherBound="169.1">
                <om:Property Name="InitialValue" Value="true" />
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.Boolean" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="isSubscriptionArchive" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="c22b304b-beaf-49ec-a2e0-4130e855692e" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="169.1" HigherBound="170.1">
                <om:Property Name="InitialValue" Value="true" />
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.Boolean" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="isProdLookupArchive" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="c1f7d171-e685-46d7-8e4d-a29ae81b2240" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="170.1" HigherBound="171.1">
                <om:Property Name="InitialValue" Value="true" />
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.Boolean" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="isCommException" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="612e1d04-0977-4c8e-8afc-bfda9fa77569" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="171.1" HigherBound="172.1">
                <om:Property Name="UseDefaultConstructor" Value="True" />
                <om:Property Name="Type" Value="System.Xml.XmlDocument" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="xmlDocReview" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="aef81da8-e338-4a89-84a2-d44377f3b5a4" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="172.1" HigherBound="173.1">
                <om:Property Name="InitialValue" Value="true" />
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.Boolean" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="isAddressArchive" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="VariableDeclaration" OID="da5c9c70-25d1-444b-85ab-8c94139ca392" ParentLink="ServiceDeclaration_VariableDeclaration" LowerBound="173.1" HigherBound="174.1">
                <om:Property Name="InitialValue" Value="0" />
                <om:Property Name="UseDefaultConstructor" Value="False" />
                <om:Property Name="Type" Value="System.Int32" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="i_accounts_cnt" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="LongRunningTransaction" OID="b7f53021-50c1-4704-858a-7f3809e40360" ParentLink="ServiceDeclaration_Transaction" LowerBound="103.21" HigherBound="103.72">
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="Orch_Transaction" />
                <om:Property Name="Signal" Value="False" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="edac0cb9-f19a-4ea6-910b-afcafb100dbc" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="131.1" HigherBound="132.1">
                <om:Property Name="Type" Value="BTNextGen.BizTalk.Profiles.Orchestration.IIProfile_RemoveAssociatedAccounts_OutputMessage" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="archiveWcfResponse" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="c15b810f-a6bf-441d-99b1-cf80861f99b9" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="132.1" HigherBound="133.1">
                <om:Property Name="Type" Value="BTNextGen.BizTalk.Profiles.Orchestration.IIProfile_RemoveAssociatedAccounts_InputMessage" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="archiveWcfReq" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="067d9ae7-d522-40c2-b1e4-f0ff987eba26" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="133.1" HigherBound="134.1">
                <om:Property Name="Type" Value="BTNextGen.BizTalk.Profiles.Schemas.ProcedureResultSet_dbo_procGetOrganization.StoredProcedureResultSet0" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="orgProfilesUpdatedLegacy" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="9f0aae65-1cfb-4cd1-9923-fd611895e7c8" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="134.1" HigherBound="135.1">
                <om:Property Name="Type" Value="BTNextGen.BizTalk.CS.Profiles.Schemas.ProfilesImportResponse" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="addressCSResponse" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="16ce1030-5366-4049-bd51-09a753716b29" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="135.1" HigherBound="136.1">
                <om:Property Name="Type" Value="BTNextGen.BizTalk.CS.Profiles.Schemas.BTProfile" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="AddressCS" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="84a7ba05-aafc-4d23-b62f-87f19b352cad" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="136.1" HigherBound="137.1">
                <om:Property Name="Type" Value="BTNextGen.BizTalk.CS.Profiles.Schemas.ProfilesImportResponse" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="subscriptionCSResponse" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="46053bab-a837-42bc-a16a-81b5eb5e3c97" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="137.1" HigherBound="138.1">
                <om:Property Name="Type" Value="BTNextGen.BizTalk.CS.Profiles.Schemas.BTProfile" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="subscriptionProfileCS" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="3c4946f2-b6e3-4fab-8b8d-cb23b81bcd0b" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="138.1" HigherBound="139.1">
                <om:Property Name="Type" Value="BTNextGen.BizTalk.Profiles.Schemas.GetUserProfilesFromLegacy.procGetUser" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="usersProfileRequest" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="0b210ca2-9e6e-44cf-9468-880e4b2a8957" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="139.1" HigherBound="140.1">
                <om:Property Name="Type" Value="BTNextGen.BizTalk.Profiles.Schemas.GetAccountProfileDetailsFromLegacy.procGetBTAccount" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="accountsProfileRequest" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="4fd2e41a-587c-4470-a6c0-6f794f3dd2a2" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="140.1" HigherBound="141.1">
                <om:Property Name="Type" Value="BTNextGen.BizTalk.Profiles.Schemas.GetReviewTypeFromLegacy.procGetBTUserReviewType" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="reviewTypesRequest" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="72160161-b1f9-4f39-9d1f-bcf82abb2189" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="141.1" HigherBound="142.1">
                <om:Property Name="Type" Value="BTNextGen.BizTalk.CS.Profiles.Schemas.ProfilesImportResponse" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="archiveResponse" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="1ee4c1b9-fa6d-496e-adba-7073f7753e75" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="142.1" HigherBound="143.1">
                <om:Property Name="Type" Value="BTNextGen.BizTalk.CS.Profiles.Schemas.BTProfile" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="archiveOut" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="b802816d-7d8e-49de-a301-62531fdae450" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="143.1" HigherBound="144.1">
                <om:Property Name="Type" Value="BTNextGen.BizTalk.Profiles.Schemas.ProcedureResultSet_dbo_procGetOrganization.StoredProcedureResultSet0" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="archiveIn" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="71eb48d7-06e6-4aac-b6ef-f8cf5a55413a" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="144.1" HigherBound="145.1">
                <om:Property Name="Type" Value="BTNextGen.BizTalk.Profiles.Schemas.ProcedureResultSet_dbo_procGetOrganization.StoredProcedureResultSet0" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="OrgDetailsLegacy" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="b00a8001-08ca-465f-a849-3be8e27782e7" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="145.1" HigherBound="146.1">
                <om:Property Name="Type" Value="BTNextGen.BizTalk.CS.Profiles.Schemas.BTProfile" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="orgProfilesCommerce" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="8e65d283-58f8-4c0a-879c-86ddeecca527" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="146.1" HigherBound="147.1">
                <om:Property Name="Type" Value="BTNextGen.BizTalk.CS.Profiles.Schemas.ProfilesImportResponse" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="orgProfilesResponse" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="81053626-054a-425a-8f0e-cc7d73607ed9" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="147.1" HigherBound="148.1">
                <om:Property Name="Type" Value="BTNextGen.BizTalk.Profiles.Schemas.SetOrgResponseSqlProcedure.procSetOrganizationError" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="updateLegacyResponse" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="ec79e70c-d708-4007-8a1e-002cb8cff661" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="148.1" HigherBound="149.1">
                <om:Property Name="Type" Value="Microsoft.Practices.ESB.ExceptionHandling.Schemas.Faults.FaultMessage" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="faultMessage" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="32d9a91b-d4b9-47fc-aeb5-db70402efd53" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="149.1" HigherBound="150.1">
                <om:Property Name="Type" Value="BTNextGen.BizTalk.Profiles.Orchestration.IIProfile_RemoveAssociatedAccounts_InputMessage" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="removeAssociatedAcctsWCF_In" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="MessageDeclaration" OID="4bbd45c8-2ca6-498a-b931-205d3ab3185a" ParentLink="ServiceDeclaration_MessageDeclaration" LowerBound="150.1" HigherBound="151.1">
                <om:Property Name="Type" Value="BTNextGen.BizTalk.Profiles.Orchestration.IIProfile_RemoveAssociatedAccounts_OutputMessage" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="removeAssociatedAcctsWCF_Out" />
                <om:Property Name="Signal" Value="True" />
            </om:Element>
            <om:Element Type="ServiceBody" OID="7ba89297-271d-40b5-adc7-82e2399309a0" ParentLink="ServiceDeclaration_ServiceBody">
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="Receive" OID="2894ebb6-38d1-4cbf-9aa9-7c5d470c72c4" ParentLink="ServiceBody_Statement" LowerBound="176.1" HigherBound="200.1">
                    <om:Property Name="Activate" Value="True" />
                    <om:Property Name="PortName" Value="ReceiveOrgDetailsPort" />
                    <om:Property Name="MessageName" Value="OrgDetailsLegacy" />
                    <om:Property Name="OperationName" Value="Operation_1" />
                    <om:Property Name="OperationMessageName" Value="Request" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="Rcv_OrgDetailsLegacy" />
                    <om:Property Name="Signal" Value="True" />
                    <om:Element Type="DNFPredicate" OID="18337849-117f-40f3-adf8-1e5611974a60" ParentLink="Receive_DNFPredicate">
                        <om:Property Name="LHS" Value="BTS.MessageType" />
                        <om:Property Name="RHS" Value="&quot;http://schemas.microsoft.com/Sql/2008/05/ProceduresResultSets/dbo/procGetOrganization#StoredProcedureResultSet0&quot;" />
                        <om:Property Name="Grouping" Value="AND" />
                        <om:Property Name="Operator" Value="Equals" />
                        <om:Property Name="Signal" Value="False" />
                    </om:Element>
                    <om:Element Type="DNFPredicate" OID="47b68cbc-3d1e-4341-8ea1-a6549fa64c37" ParentLink="Receive_DNFPredicate">
                        <om:Property Name="LHS" Value="BTS.Operation" />
                        <om:Property Name="RHS" Value="&quot;InvokeImport&quot;" />
                        <om:Property Name="Grouping" Value="AND" />
                        <om:Property Name="Operator" Value="Equals" />
                        <om:Property Name="Signal" Value="False" />
                    </om:Element>
                </om:Element>
                <om:Element Type="Scope" OID="cd46a49c-9e16-437e-bc4f-0fcc741dc054" ParentLink="ServiceBody_Statement" LowerBound="200.1" HigherBound="303.1">
                    <om:Property Name="InitializedTransactionType" Value="True" />
                    <om:Property Name="IsSynchronized" Value="False" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="Scope_Address" />
                    <om:Property Name="Signal" Value="True" />
                    <om:Element Type="LongRunningTransaction" OID="ff83aebc-5c9e-4c00-b3aa-2bbd30ae56ba" ParentLink="Scope_Transaction" LowerBound="201.18" HigherBound="201.62">
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Transaction_Address" />
                        <om:Property Name="Signal" Value="False" />
                    </om:Element>
                    <om:Element Type="VariableAssignment" OID="78689fdb-900a-4a3d-8d3d-421f2fc68bbd" ParentLink="ComplexStatement_Statement" LowerBound="205.1" HigherBound="213.1">
                        <om:Property Name="Expression" Value="legacySource=OrgDetailsLegacy.Legacy_source_system;&#xD;&#xA;legacyOrgID=OrgDetailsLegacy.Legacy_org_id;&#xD;&#xA;legacyOrgGuid=OrgDetailsLegacy.CSOrgGUID;&#xD;&#xA;&#xD;&#xA;i_accounts_cnt = System.Convert.ToInt32(xpath(OrgDetailsLegacy, &quot;count(/*[local-name()='StoredProcedureResultSet0' and namespace-uri()='http://schemas.microsoft.com/Sql/2008/05/ProceduresResultSets/dbo/procGetOrganization']/*[local-name()='u_accounts' and namespace-uri()='http://schemas.microsoft.com/Sql/2008/05/ProceduresResultSets/dbo/procGetOrganization'])&quot;));&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="get legacy fields" />
                        <om:Property Name="Signal" Value="False" />
                    </om:Element>
                    <om:Element Type="VariableAssignment" OID="eeeaa269-8a63-4fbc-81be-73d90e7b2952" ParentLink="ComplexStatement_Statement" LowerBound="213.1" HigherBound="215.1">
                        <om:Property Name="Expression" Value="isAddressArchive=System.Convert.ToBoolean(SSO.Utility.SSOClientHelper.Read(&quot;BTNextGen.BizTalk.Profiles&quot;,&quot;AddressArchive&quot;));" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Get SSO value" />
                        <om:Property Name="Signal" Value="False" />
                    </om:Element>
                    <om:Element Type="Decision" OID="5bdcb166-d7c1-4035-892a-220346e65e3f" ParentLink="ComplexStatement_Statement" LowerBound="215.1" HigherBound="228.1">
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Archive_In" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="DecisionBranch" OID="1fa198ab-3550-49b4-9d58-94e45232d8b5" ParentLink="ReallyComplexStatement_Branch" LowerBound="216.21" HigherBound="228.1">
                            <om:Property Name="Expression" Value="isAddressArchive" />
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="YES" />
                            <om:Property Name="Signal" Value="False" />
                            <om:Element Type="Construct" OID="6272f7a7-bf8b-45a8-8fd7-949d202c5579" ParentLink="ComplexStatement_Statement" LowerBound="218.1" HigherBound="225.1">
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Construct_archiveIn" />
                                <om:Property Name="Signal" Value="True" />
                                <om:Element Type="MessageRef" OID="6900fd49-2f44-450d-8d2a-3943b305d7e0" ParentLink="Construct_MessageRef" LowerBound="219.35" HigherBound="219.44">
                                    <om:Property Name="Ref" Value="archiveIn" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                                <om:Element Type="MessageAssignment" OID="a3f5f2d9-a8f1-4dfd-a342-4fdb7ce48a88" ParentLink="ComplexStatement_Statement" LowerBound="221.1" HigherBound="224.1">
                                    <om:Property Name="Expression" Value="archiveIn=OrgDetailsLegacy;&#xD;&#xA;archiveIn(FILE.ReceivedFileName)=&quot;OrgProfilesFromLegacy_&quot;+legacyOrgID.ToString();" />
                                    <om:Property Name="ReportToAnalyst" Value="False" />
                                    <om:Property Name="Name" Value="MessageAssignment_1" />
                                    <om:Property Name="Signal" Value="True" />
                                </om:Element>
                            </om:Element>
                            <om:Element Type="Send" OID="34017693-641b-45b4-8202-fc98cbdf823b" ParentLink="ComplexStatement_Statement" LowerBound="225.1" HigherBound="227.1">
                                <om:Property Name="PortName" Value="archiveOrgProfilesInPort" />
                                <om:Property Name="MessageName" Value="archiveIn" />
                                <om:Property Name="OperationName" Value="archiveIn" />
                                <om:Property Name="OperationMessageName" Value="Request" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Snd_ArchiveIn" />
                                <om:Property Name="Signal" Value="True" />
                            </om:Element>
                        </om:Element>
                        <om:Element Type="DecisionBranch" OID="21097c6b-ec94-4b72-97de-3eca89e1a7d0" ParentLink="ReallyComplexStatement_Branch">
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Else" />
                            <om:Property Name="Signal" Value="False" />
                        </om:Element>
                    </om:Element>
                    <om:Element Type="Construct" OID="34d34957-96c7-40d9-9fa9-95d2464d9fca" ParentLink="ComplexStatement_Statement" LowerBound="228.1" HigherBound="234.1">
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Construct_Address" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="MessageRef" OID="bb1083ff-c6a3-453c-86cc-db6b86463bdf" ParentLink="Construct_MessageRef" LowerBound="229.31" HigherBound="229.40">
                            <om:Property Name="Ref" Value="AddressCS" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Signal" Value="False" />
                        </om:Element>
                        <om:Element Type="Transform" OID="00b5e2bf-7dd9-421b-99d6-8db9d0cb7756" ParentLink="ComplexStatement_Statement" LowerBound="231.1" HigherBound="233.1">
                            <om:Property Name="ClassName" Value="BTNextGen.BizTalk.Profiles.Maps.OrgLegacy_To_AddressCS" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Transform_AddressCS" />
                            <om:Property Name="Signal" Value="True" />
                            <om:Element Type="MessagePartRef" OID="1b45e3ad-7070-4739-b7b0-36800f199903" ParentLink="Transform_InputMessagePartRef" LowerBound="232.105" HigherBound="232.121">
                                <om:Property Name="MessageRef" Value="OrgDetailsLegacy" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="MessagePartReference_5" />
                                <om:Property Name="Signal" Value="False" />
                            </om:Element>
                            <om:Element Type="MessagePartRef" OID="f97a47d4-4a19-4ca6-a039-7380ab681679" ParentLink="Transform_OutputMessagePartRef" LowerBound="232.36" HigherBound="232.45">
                                <om:Property Name="MessageRef" Value="AddressCS" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="MessagePartReference_6" />
                                <om:Property Name="Signal" Value="False" />
                            </om:Element>
                        </om:Element>
                    </om:Element>
                    <om:Element Type="Decision" OID="14238c02-c38f-40fa-ad1f-3269cba4c149" ParentLink="ComplexStatement_Statement" LowerBound="234.1" HigherBound="247.1">
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Archive_Out" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="DecisionBranch" OID="62f4390d-7f0f-4f5e-9ce7-5a70971bbb0c" ParentLink="ReallyComplexStatement_Branch" LowerBound="235.21" HigherBound="247.1">
                            <om:Property Name="Expression" Value="isAddressArchive" />
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="YES" />
                            <om:Property Name="Signal" Value="False" />
                            <om:Element Type="Construct" OID="74268468-9f2e-4a98-a4f6-13e97c814fcf" ParentLink="ComplexStatement_Statement" LowerBound="237.1" HigherBound="244.1">
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Construct_archiveOut" />
                                <om:Property Name="Signal" Value="True" />
                                <om:Element Type="MessageAssignment" OID="ce8d7275-c805-4dc9-91fe-782d0c371984" ParentLink="ComplexStatement_Statement" LowerBound="240.1" HigherBound="243.1">
                                    <om:Property Name="Expression" Value="archiveOut=AddressCS;&#xD;&#xA;archiveOut(FILE.ReceivedFileName)=&quot;AddressProfilesToCS_&quot;+legacyOrgID.ToString();" />
                                    <om:Property Name="ReportToAnalyst" Value="False" />
                                    <om:Property Name="Name" Value="MessageAssignment_1" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                                <om:Element Type="MessageRef" OID="360ddde1-4f25-45df-ac44-370bea6ceb6a" ParentLink="Construct_MessageRef" LowerBound="238.35" HigherBound="238.45">
                                    <om:Property Name="Ref" Value="archiveOut" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                            </om:Element>
                            <om:Element Type="Send" OID="80e21dff-1af1-4283-ab6a-517fe4e96d93" ParentLink="ComplexStatement_Statement" LowerBound="244.1" HigherBound="246.1">
                                <om:Property Name="PortName" Value="archiveOutPort" />
                                <om:Property Name="MessageName" Value="archiveOut" />
                                <om:Property Name="OperationName" Value="Operation_1" />
                                <om:Property Name="OperationMessageName" Value="Request" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Snd_archiveOut" />
                                <om:Property Name="Signal" Value="True" />
                            </om:Element>
                        </om:Element>
                        <om:Element Type="DecisionBranch" OID="e02f165f-7ffb-4c5b-93d5-49483af11c1d" ParentLink="ReallyComplexStatement_Branch">
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Else" />
                            <om:Property Name="Signal" Value="False" />
                        </om:Element>
                    </om:Element>
                    <om:Element Type="Send" OID="214932c5-b949-4818-b02c-63cc45c5e7bc" ParentLink="ComplexStatement_Statement" LowerBound="247.1" HigherBound="249.1">
                        <om:Property Name="PortName" Value="AddressCSPort" />
                        <om:Property Name="MessageName" Value="AddressCS" />
                        <om:Property Name="OperationName" Value="Operation_1" />
                        <om:Property Name="OperationMessageName" Value="Request" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Send_CSAddress" />
                        <om:Property Name="Signal" Value="True" />
                    </om:Element>
                    <om:Element Type="Receive" OID="4d723d12-e926-4b6d-aa25-b82ba2f4559e" ParentLink="ComplexStatement_Statement" LowerBound="249.1" HigherBound="251.1">
                        <om:Property Name="Activate" Value="False" />
                        <om:Property Name="PortName" Value="AddressCSPort" />
                        <om:Property Name="MessageName" Value="addressCSResponse" />
                        <om:Property Name="OperationName" Value="Operation_1" />
                        <om:Property Name="OperationMessageName" Value="Response" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Receive_CSAddress" />
                        <om:Property Name="Signal" Value="True" />
                    </om:Element>
                    <om:Element Type="Decision" OID="c44f21c6-9965-45c7-b7a8-a1efde5049ab" ParentLink="ComplexStatement_Statement" LowerBound="251.1" HigherBound="264.1">
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="ArchiveResponse" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="DecisionBranch" OID="c6406582-fb2e-496a-8233-28cfae1199df" ParentLink="ReallyComplexStatement_Branch" LowerBound="252.21" HigherBound="264.1">
                            <om:Property Name="Expression" Value="isAddressArchive" />
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="YES" />
                            <om:Property Name="Signal" Value="True" />
                            <om:Element Type="Construct" OID="d58a9bce-ec73-4a1a-bbd1-11be31f89cee" ParentLink="ComplexStatement_Statement" LowerBound="254.1" HigherBound="261.1">
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Construct_archiveProfileResponse" />
                                <om:Property Name="Signal" Value="True" />
                                <om:Element Type="MessageRef" OID="76394641-37eb-4a99-8585-38542bd39a9c" ParentLink="Construct_MessageRef" LowerBound="255.35" HigherBound="255.50">
                                    <om:Property Name="Ref" Value="archiveResponse" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                                <om:Element Type="MessageAssignment" OID="010a266d-043e-4f19-9e86-4c15ce9a3295" ParentLink="ComplexStatement_Statement" LowerBound="257.1" HigherBound="260.1">
                                    <om:Property Name="Expression" Value="archiveResponse= addressCSResponse;&#xD;&#xA;archiveResponse(FILE.ReceivedFileName)=&quot;AddressResponseCS_&quot;+legacyOrgID.ToString();" />
                                    <om:Property Name="ReportToAnalyst" Value="False" />
                                    <om:Property Name="Name" Value="Assign_FileName" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                            </om:Element>
                            <om:Element Type="Send" OID="1588b4f4-3717-4cd0-84e0-d19d7940c110" ParentLink="ComplexStatement_Statement" LowerBound="261.1" HigherBound="263.1">
                                <om:Property Name="PortName" Value="archiveResponsePort" />
                                <om:Property Name="MessageName" Value="archiveResponse" />
                                <om:Property Name="OperationName" Value="archiveResp" />
                                <om:Property Name="OperationMessageName" Value="Request" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Send_ArchiveResp" />
                                <om:Property Name="Signal" Value="True" />
                            </om:Element>
                        </om:Element>
                        <om:Element Type="DecisionBranch" OID="3e8518cd-7e73-4ac2-9b1d-7263c40e4fc0" ParentLink="ReallyComplexStatement_Branch">
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Else" />
                            <om:Property Name="Signal" Value="False" />
                        </om:Element>
                    </om:Element>
                    <om:Element Type="VariableAssignment" OID="528366e3-ca19-4046-aa83-3a3a63b531cc" ParentLink="ComplexStatement_Statement" LowerBound="264.1" HigherBound="266.1">
                        <om:Property Name="Expression" Value="intInvalidResponseCount=System.Convert.ToInt32(xpath(addressCSResponse,&quot;count(/*[local-name()='CommerceServerProfilesImportResponse' and namespace-uri()='']/*[local-name()='InvalidProfileImportMessage' and namespace-uri()=''])&quot;));" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Get InvalidResponse Count " />
                        <om:Property Name="Signal" Value="True" />
                    </om:Element>
                    <om:Element Type="Decision" OID="e2f62677-9b45-4f45-9cd7-8c8a7f62edca" ParentLink="ComplexStatement_Statement" LowerBound="266.1" HigherBound="277.1">
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Decide_RespType" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="DecisionBranch" OID="bd7b9f2d-d088-4f4f-b292-769b79653b5f" ParentLink="ReallyComplexStatement_Branch" LowerBound="267.21" HigherBound="277.1">
                            <om:Property Name="Expression" Value="intInvalidResponseCount &gt; 0" />
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="ERROR " />
                            <om:Property Name="Signal" Value="False" />
                            <om:Element Type="VariableAssignment" OID="5569ec1e-2449-48ad-ba41-9a8ca3bbf00e" ParentLink="ComplexStatement_Statement" LowerBound="269.1" HigherBound="276.1">
                                <om:Property Name="Expression" Value="strResponseText=xpath(addressCSResponse,&quot;string(/*[local-name()='CommerceServerProfilesImportResponse' and namespace-uri()='']/*[local-name()='InvalidProfileImportMessage' and namespace-uri()=''])&quot;);&#xD;&#xA;strResponseText= &quot;ADDRESS : &quot;+strResponseText;&#xD;&#xA;strCompleteErrorResponse.AppendLine(strResponseText);&#xD;&#xA;isFailed= true;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Get error response" />
                                <om:Property Name="Signal" Value="True" />
                            </om:Element>
                        </om:Element>
                        <om:Element Type="DecisionBranch" OID="bcccd937-3960-4132-89ba-8a7b65cc7097" ParentLink="ReallyComplexStatement_Branch">
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Else" />
                            <om:Property Name="Signal" Value="False" />
                        </om:Element>
                    </om:Element>
                    <om:Element Type="Catch" OID="908adb5e-e9ff-414e-b957-743848114ce7" ParentLink="Scope_Catch" LowerBound="280.1" HigherBound="301.1">
                        <om:Property Name="ExceptionName" Value="addressEx" />
                        <om:Property Name="ExceptionType" Value="System.Exception" />
                        <om:Property Name="IsFaultMessage" Value="False" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Catch_AddressException" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="Construct" OID="6ff67735-9d39-4e25-9057-54a1df053b0b" ParentLink="Catch_Statement" LowerBound="283.1" HigherBound="298.1">
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Construct_faultMessage" />
                            <om:Property Name="Signal" Value="True" />
                            <om:Element Type="MessageRef" OID="3e63d98b-fc2f-47c3-9ad9-b11bbd27f7bf" ParentLink="Construct_MessageRef" LowerBound="284.35" HigherBound="284.47">
                                <om:Property Name="Ref" Value="faultMessage" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Signal" Value="False" />
                            </om:Element>
                            <om:Element Type="MessageAssignment" OID="4f3d05ee-0105-4a47-943b-555e5355613a" ParentLink="ComplexStatement_Statement" LowerBound="286.1" HigherBound="297.1">
                                <om:Property Name="Expression" Value="// Create fault exception Message&#xD;&#xA;faultMessage= Microsoft.Practices.ESB.ExceptionHandling.ExceptionMgmt.CreateFaultMessage();&#xD;&#xA;&#xD;&#xA;// Assign Properties&#xD;&#xA;&#xD;&#xA;faultMessage.FailureCategory=&quot;Commerce Server Exception&quot;;&#xD;&#xA;faultMessage.FaultDescription=addressEx.Message;&#xD;&#xA;faultMessage.FaultCode=&quot;1003&quot;;&#xD;&#xA;faultMessage.FaultSeverity= Microsoft.Practices.ESB.ExceptionHandling.FaultSeverity.Severe;&#xD;&#xA;Microsoft.Practices.ESB.ExceptionHandling.ExceptionMgmt.AddMessage(faultMessage,OrgDetailsLegacy);&#xD;&#xA;" />
                                <om:Property Name="ReportToAnalyst" Value="False" />
                                <om:Property Name="Name" Value="MessageAssignment_3" />
                                <om:Property Name="Signal" Value="True" />
                            </om:Element>
                        </om:Element>
                        <om:Element Type="Send" OID="ba2cacf1-dba3-4645-9898-97d92b57d620" ParentLink="Catch_Statement" LowerBound="298.1" HigherBound="300.1">
                            <om:Property Name="PortName" Value="SendFaultMessagePort" />
                            <om:Property Name="MessageName" Value="faultMessage" />
                            <om:Property Name="OperationName" Value="Operation_1" />
                            <om:Property Name="OperationMessageName" Value="Request" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Send_Fault" />
                            <om:Property Name="Signal" Value="True" />
                        </om:Element>
                    </om:Element>
                </om:Element>
                <om:Element Type="Scope" OID="5cc34d8f-c3f9-4c54-ba51-318048f10569" ParentLink="ServiceBody_Statement" LowerBound="303.1" HigherBound="574.1">
                    <om:Property Name="InitializedTransactionType" Value="True" />
                    <om:Property Name="IsSynchronized" Value="False" />
                    <om:Property Name="ReportToAnalyst" Value="True" />
                    <om:Property Name="Name" Value="Scope_Org" />
                    <om:Property Name="Signal" Value="True" />
                    <om:Element Type="LongRunningTransaction" OID="836ee954-8511-4e18-ad62-e553ccbf3ab6" ParentLink="Scope_Transaction" LowerBound="304.18" HigherBound="304.56">
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Transaction_1" />
                        <om:Property Name="Signal" Value="False" />
                    </om:Element>
                    <om:Element Type="VariableAssignment" OID="08bb53d7-2625-4249-a183-63360f4d6f38" ParentLink="ComplexStatement_Statement" LowerBound="308.1" HigherBound="312.1">
                        <om:Property Name="Expression" Value="isSubscriptionArchive=System.Convert.ToBoolean(SSO.Utility.SSOClientHelper.Read(&quot;BTNextGen.BizTalk.Profiles&quot;,&quot;SubscriptionArchive&quot;));&#xD;&#xA;isOrgArchive=System.Convert.ToBoolean(SSO.Utility.SSOClientHelper.Read(&quot;BTNextGen.BizTalk.Profiles&quot;,&quot;OrgArchive&quot;));&#xD;&#xA;isProdLookupArchive=System.Convert.ToBoolean(SSO.Utility.SSOClientHelper.Read(&quot;BTNextGen.BizTalk.Profiles&quot;,&quot;ProdLookUpArchive&quot;));&#xD;&#xA;" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Get SSO value" />
                        <om:Property Name="Signal" Value="False" />
                    </om:Element>
                    <om:Element Type="Decision" OID="9acfdd57-8f93-43af-af10-617f6439837d" ParentLink="ComplexStatement_Statement" LowerBound="312.1" HigherBound="375.1">
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Check accounts count" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="DecisionBranch" OID="5d9ecf68-a2d2-4d52-bcf5-f9746680256e" ParentLink="ReallyComplexStatement_Branch" LowerBound="313.21" HigherBound="364.1">
                            <om:Property Name="Expression" Value="i_accounts_cnt &gt; 0" />
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="greater than 0" />
                            <om:Property Name="Signal" Value="False" />
                            <om:Element Type="Construct" OID="852d73bc-8acb-433f-81e1-67aa60d15b21" ParentLink="ComplexStatement_Statement" LowerBound="315.1" HigherBound="324.1">
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Construct_removeAssociatedAcctsWCF" />
                                <om:Property Name="Signal" Value="True" />
                                <om:Element Type="MessageRef" OID="0889d70c-7c05-447e-a251-c398f9480cdc" ParentLink="Construct_MessageRef" LowerBound="316.35" HigherBound="316.62">
                                    <om:Property Name="Ref" Value="removeAssociatedAcctsWCF_In" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                                <om:Element Type="MessageAssignment" OID="6c1aba8f-212c-4408-b74a-212a3de83c5a" ParentLink="ComplexStatement_Statement" LowerBound="318.1" HigherBound="323.1">
                                    <om:Property Name="Expression" Value="xmlDocwcfReq.LoadXml(&quot;&lt;ns0:RemoveAssociatedAccounts xmlns:ns0=\&quot;http://tempuri.org/\&quot;&gt;&lt;ns0:accounList&gt;accounList_0&lt;/ns0:accounList&gt;&lt;ns0:orgID&gt;orgID_0&lt;/ns0:orgID&gt;&lt;/ns0:RemoveAssociatedAccounts&gt;&quot;);&#xD;&#xA;removeAssociatedAcctsWCF_In.parameters= xmlDocwcfReq;&#xD;&#xA;removeAssociatedAcctsWCF_In.parameters.accounList= OrgDetailsLegacy.u_accounts;&#xD;&#xA;removeAssociatedAcctsWCF_In.parameters.orgID= legacyOrgGuid;&#xD;&#xA;" />
                                    <om:Property Name="ReportToAnalyst" Value="False" />
                                    <om:Property Name="Name" Value="assign u_accounts" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                            </om:Element>
                            <om:Element Type="Decision" OID="48e409a0-bf1d-465a-b816-2afd0c71d489" ParentLink="ComplexStatement_Statement" LowerBound="324.1" HigherBound="337.1">
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="check Archive" />
                                <om:Property Name="Signal" Value="True" />
                                <om:Element Type="DecisionBranch" OID="92fc9758-145e-4400-8003-0b875984c4f3" ParentLink="ReallyComplexStatement_Branch" LowerBound="325.25" HigherBound="337.1">
                                    <om:Property Name="Expression" Value="isOrgArchive" />
                                    <om:Property Name="IsGhostBranch" Value="True" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Name" Value="Archive" />
                                    <om:Property Name="Signal" Value="True" />
                                    <om:Element Type="Construct" OID="6479c5e5-0694-4c45-a6d5-f5b3b72c2054" ParentLink="ComplexStatement_Statement" LowerBound="327.1" HigherBound="334.1">
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="Construct_archiveOut" />
                                        <om:Property Name="Signal" Value="True" />
                                        <om:Element Type="MessageRef" OID="97e2fc4d-22b4-47d9-ac67-7bbf13a44afb" ParentLink="Construct_MessageRef" LowerBound="328.39" HigherBound="328.52">
                                            <om:Property Name="Ref" Value="archiveWcfReq" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Signal" Value="False" />
                                        </om:Element>
                                        <om:Element Type="MessageAssignment" OID="446e948b-5953-427d-a820-1a7ba2d1570b" ParentLink="ComplexStatement_Statement" LowerBound="330.1" HigherBound="333.1">
                                            <om:Property Name="Expression" Value="archiveWcfReq=removeAssociatedAcctsWCF_In;&#xD;&#xA;archiveWcfReq(FILE.ReceivedFileName)=&quot;RemoveAssociatedWCFRequest_&quot;+legacyOrgID.ToString();" />
                                            <om:Property Name="ReportToAnalyst" Value="False" />
                                            <om:Property Name="Name" Value="MessageAssignment_1" />
                                            <om:Property Name="Signal" Value="True" />
                                        </om:Element>
                                    </om:Element>
                                    <om:Element Type="Send" OID="7bed96da-1cb2-48e8-8242-aa150c3b7894" ParentLink="ComplexStatement_Statement" LowerBound="334.1" HigherBound="336.1">
                                        <om:Property Name="PortName" Value="archiveWCFReqPort" />
                                        <om:Property Name="MessageName" Value="archiveWcfReq" />
                                        <om:Property Name="OperationName" Value="Operation_1" />
                                        <om:Property Name="OperationMessageName" Value="Request" />
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="Send_archive" />
                                        <om:Property Name="Signal" Value="True" />
                                    </om:Element>
                                </om:Element>
                                <om:Element Type="DecisionBranch" OID="2c91b821-d199-4aae-ae49-67311065a449" ParentLink="ReallyComplexStatement_Branch">
                                    <om:Property Name="IsGhostBranch" Value="True" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Name" Value="Else" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                            </om:Element>
                            <om:Element Type="Send" OID="4bbbdbee-723e-4a48-93e0-1aa3b27ec52b" ParentLink="ComplexStatement_Statement" LowerBound="337.1" HigherBound="339.1">
                                <om:Property Name="PortName" Value="IProfileWCFPort" />
                                <om:Property Name="MessageName" Value="removeAssociatedAcctsWCF_In" />
                                <om:Property Name="OperationName" Value="RemoveAssociatedAccounts" />
                                <om:Property Name="OperationMessageName" Value="Request" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Send_wcf_In" />
                                <om:Property Name="Signal" Value="True" />
                            </om:Element>
                            <om:Element Type="Receive" OID="d25fd9a6-5456-4469-86fd-c4fc28622d7a" ParentLink="ComplexStatement_Statement" LowerBound="339.1" HigherBound="341.1">
                                <om:Property Name="Activate" Value="False" />
                                <om:Property Name="PortName" Value="IProfileWCFPort" />
                                <om:Property Name="MessageName" Value="removeAssociatedAcctsWCF_Out" />
                                <om:Property Name="OperationName" Value="RemoveAssociatedAccounts" />
                                <om:Property Name="OperationMessageName" Value="Response" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Receive_wcf_response" />
                                <om:Property Name="Signal" Value="True" />
                            </om:Element>
                            <om:Element Type="Decision" OID="22470c43-d386-405f-b2b7-e3f7fcda99cc" ParentLink="ComplexStatement_Statement" LowerBound="341.1" HigherBound="354.1">
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Check Archive" />
                                <om:Property Name="Signal" Value="True" />
                                <om:Element Type="DecisionBranch" OID="f4882ee1-010f-401e-a855-faed91dc1d44" ParentLink="ReallyComplexStatement_Branch" LowerBound="342.25" HigherBound="354.1">
                                    <om:Property Name="Expression" Value="isOrgArchive" />
                                    <om:Property Name="IsGhostBranch" Value="True" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Name" Value="Archive" />
                                    <om:Property Name="Signal" Value="True" />
                                    <om:Element Type="Construct" OID="0fadbd02-153b-44be-acf9-a5de44afc8ba" ParentLink="ComplexStatement_Statement" LowerBound="344.1" HigherBound="351.1">
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="Construct_archiveOut" />
                                        <om:Property Name="Signal" Value="True" />
                                        <om:Element Type="MessageRef" OID="097d6a5a-137b-4cd3-b40f-cfd8abb0f607" ParentLink="Construct_MessageRef" LowerBound="345.39" HigherBound="345.57">
                                            <om:Property Name="Ref" Value="archiveWcfResponse" />
                                            <om:Property Name="ReportToAnalyst" Value="True" />
                                            <om:Property Name="Signal" Value="False" />
                                        </om:Element>
                                        <om:Element Type="MessageAssignment" OID="c41f68f4-6dcc-41b3-b657-5295d4d8ced3" ParentLink="ComplexStatement_Statement" LowerBound="347.1" HigherBound="350.1">
                                            <om:Property Name="Expression" Value="archiveWcfResponse=removeAssociatedAcctsWCF_Out;&#xD;&#xA;archiveWcfResponse(FILE.ReceivedFileName)=&quot;RemoveAssociatedWCFResponse_&quot;+legacyOrgID.ToString();" />
                                            <om:Property Name="ReportToAnalyst" Value="False" />
                                            <om:Property Name="Name" Value="assign filename" />
                                            <om:Property Name="Signal" Value="False" />
                                        </om:Element>
                                    </om:Element>
                                    <om:Element Type="Send" OID="032a28a0-9c89-4e3f-b188-f702213dd9dd" ParentLink="ComplexStatement_Statement" LowerBound="351.1" HigherBound="353.1">
                                        <om:Property Name="PortName" Value="archiveWCFResponsePort" />
                                        <om:Property Name="MessageName" Value="archiveWcfResponse" />
                                        <om:Property Name="OperationName" Value="Operation_1" />
                                        <om:Property Name="OperationMessageName" Value="Request" />
                                        <om:Property Name="ReportToAnalyst" Value="True" />
                                        <om:Property Name="Name" Value="Send_archive" />
                                        <om:Property Name="Signal" Value="True" />
                                    </om:Element>
                                </om:Element>
                                <om:Element Type="DecisionBranch" OID="3e4f5be8-d905-4e54-ab80-064f96833457" ParentLink="ReallyComplexStatement_Branch">
                                    <om:Property Name="IsGhostBranch" Value="True" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Name" Value="Else" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                            </om:Element>
                            <om:Element Type="Construct" OID="9a025708-7935-46c3-97c8-b1a460e529e6" ParentLink="ComplexStatement_Statement" LowerBound="354.1" HigherBound="363.1">
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Construct_UpdatedLegacy" />
                                <om:Property Name="Signal" Value="True" />
                                <om:Element Type="MessageRef" OID="6642af12-9af6-4db1-b11f-5a8301969e50" ParentLink="Construct_MessageRef" LowerBound="355.35" HigherBound="355.59">
                                    <om:Property Name="Ref" Value="orgProfilesUpdatedLegacy" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                                <om:Element Type="MessageAssignment" OID="d83b488e-e909-4032-9914-5113e82b9174" ParentLink="ComplexStatement_Statement" LowerBound="357.1" HigherBound="362.1">
                                    <om:Property Name="Expression" Value="orgProfilesUpdatedLegacy= OrgDetailsLegacy;&#xD;&#xA;orgProfilesUpdatedLegacy.u_accounts= removeAssociatedAcctsWCF_Out.parameters.RemoveAssociatedAccountsResult.accountList;&#xD;&#xA;orgProfilesUpdatedLegacy.i_account_count= removeAssociatedAcctsWCF_Out.parameters.RemoveAssociatedAccountsResult.accountCount;&#xD;&#xA;&#xD;&#xA;" />
                                    <om:Property Name="ReportToAnalyst" Value="False" />
                                    <om:Property Name="Name" Value="Assignment_UpdatedLegacy" />
                                    <om:Property Name="Signal" Value="True" />
                                </om:Element>
                            </om:Element>
                        </om:Element>
                        <om:Element Type="DecisionBranch" OID="3c86e239-997b-41c9-b813-eb623be206a0" ParentLink="ReallyComplexStatement_Branch">
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Else" />
                            <om:Property Name="Signal" Value="False" />
                            <om:Element Type="Construct" OID="c399cd45-e719-440c-91ca-f924c40adaed" ParentLink="ComplexStatement_Statement" LowerBound="366.1" HigherBound="374.1">
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Construct_orgProfilesUpdatedLegacy" />
                                <om:Property Name="Signal" Value="True" />
                                <om:Element Type="MessageAssignment" OID="710cd1f1-bc17-48cc-9ad6-fb3cf8233c79" ParentLink="ComplexStatement_Statement" LowerBound="369.1" HigherBound="373.1">
                                    <om:Property Name="Expression" Value="// if no accounts exists, just make a copy of the incoming message so that same map can be used after the branch&#xD;&#xA;&#xD;&#xA;orgProfilesUpdatedLegacy= OrgDetailsLegacy;" />
                                    <om:Property Name="ReportToAnalyst" Value="False" />
                                    <om:Property Name="Name" Value="copy message" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                                <om:Element Type="MessageRef" OID="7322bab1-35d3-478e-898e-54a69239a266" ParentLink="Construct_MessageRef" LowerBound="367.35" HigherBound="367.59">
                                    <om:Property Name="Ref" Value="orgProfilesUpdatedLegacy" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                            </om:Element>
                        </om:Element>
                    </om:Element>
                    <om:Element Type="Construct" OID="76781abb-4290-4ddc-9be6-9ded3f5f5350" ParentLink="ComplexStatement_Statement" LowerBound="375.1" HigherBound="381.1">
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Construct_OrgProfileCS" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="MessageRef" OID="da213a3a-3d5b-4373-bce7-2de609ddcfb0" ParentLink="Construct_MessageRef" LowerBound="376.31" HigherBound="376.50">
                            <om:Property Name="Ref" Value="orgProfilesCommerce" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Signal" Value="False" />
                        </om:Element>
                        <om:Element Type="Transform" OID="b0d8f967-c28e-4170-a834-6ab80b409d47" ParentLink="ComplexStatement_Statement" LowerBound="378.1" HigherBound="380.1">
                            <om:Property Name="ClassName" Value="BTNextGen.BizTalk.Profiles.Maps.OrgProfilesLegacy_To_OrgProfilesCommerce" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Transform_userProfileCS" />
                            <om:Property Name="Signal" Value="False" />
                            <om:Element Type="MessagePartRef" OID="7cd621b2-db7c-483c-8721-6e1167015988" ParentLink="Transform_OutputMessagePartRef" LowerBound="379.36" HigherBound="379.55">
                                <om:Property Name="MessageRef" Value="orgProfilesCommerce" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="MessagePartReference_2" />
                                <om:Property Name="Signal" Value="False" />
                            </om:Element>
                            <om:Element Type="MessagePartRef" OID="c1428003-ead8-437d-b6c4-dcb2abd5c9fa" ParentLink="Transform_InputMessagePartRef" LowerBound="379.133" HigherBound="379.157">
                                <om:Property Name="MessageRef" Value="orgProfilesUpdatedLegacy" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="MessagePartReference_1" />
                                <om:Property Name="Signal" Value="False" />
                            </om:Element>
                        </om:Element>
                    </om:Element>
                    <om:Element Type="Decision" OID="6e55db09-3691-4107-aa68-36be99b32aab" ParentLink="ComplexStatement_Statement" LowerBound="381.1" HigherBound="394.1">
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Archive_Out" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="DecisionBranch" OID="8e335661-1fae-4692-abbd-5d2bf4e33fec" ParentLink="ReallyComplexStatement_Branch" LowerBound="382.21" HigherBound="394.1">
                            <om:Property Name="Expression" Value="isOrgArchive" />
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="YES" />
                            <om:Property Name="Signal" Value="True" />
                            <om:Element Type="Construct" OID="0f90aaae-8b1b-4b9a-a3ea-07c06be89fab" ParentLink="ComplexStatement_Statement" LowerBound="384.1" HigherBound="391.1">
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Construct_archiveOut" />
                                <om:Property Name="Signal" Value="True" />
                                <om:Element Type="MessageRef" OID="51c6fcba-d4a2-4044-8470-c70d81f5a0ad" ParentLink="Construct_MessageRef" LowerBound="385.35" HigherBound="385.45">
                                    <om:Property Name="Ref" Value="archiveOut" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                                <om:Element Type="MessageAssignment" OID="82a64773-c5aa-486e-8bc7-2c4a4f369aee" ParentLink="ComplexStatement_Statement" LowerBound="387.1" HigherBound="390.1">
                                    <om:Property Name="Expression" Value="archiveOut=orgProfilesCommerce;&#xD;&#xA;archiveOut(FILE.ReceivedFileName)=&quot;OrgProfilesToCS_&quot;+legacyOrgID.ToString();" />
                                    <om:Property Name="ReportToAnalyst" Value="False" />
                                    <om:Property Name="Name" Value="MessageAssignment_1" />
                                    <om:Property Name="Signal" Value="True" />
                                </om:Element>
                            </om:Element>
                            <om:Element Type="Send" OID="89bde6dd-b92f-472f-8e50-05b6de708299" ParentLink="ComplexStatement_Statement" LowerBound="391.1" HigherBound="393.1">
                                <om:Property Name="PortName" Value="archiveOutPort" />
                                <om:Property Name="MessageName" Value="archiveOut" />
                                <om:Property Name="OperationName" Value="Operation_1" />
                                <om:Property Name="OperationMessageName" Value="Request" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Snd_archiveOut" />
                                <om:Property Name="Signal" Value="True" />
                            </om:Element>
                        </om:Element>
                        <om:Element Type="DecisionBranch" OID="09eb39ce-2c40-4677-92b0-43f0d284dd9a" ParentLink="ReallyComplexStatement_Branch">
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Else" />
                            <om:Property Name="Signal" Value="False" />
                        </om:Element>
                    </om:Element>
                    <om:Element Type="Send" OID="a8558c1b-9380-48f4-be86-d23ed14d66e8" ParentLink="ComplexStatement_Statement" LowerBound="394.1" HigherBound="396.1">
                        <om:Property Name="PortName" Value="SendOrgDetailsCommercePort" />
                        <om:Property Name="MessageName" Value="orgProfilesCommerce" />
                        <om:Property Name="OperationName" Value="Operation_1" />
                        <om:Property Name="OperationMessageName" Value="Request" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Snd_OrgProfilesCommerce" />
                        <om:Property Name="Signal" Value="True" />
                    </om:Element>
                    <om:Element Type="Receive" OID="45834266-a2c1-45a1-81a6-a7a8800e9113" ParentLink="ComplexStatement_Statement" LowerBound="396.1" HigherBound="398.1">
                        <om:Property Name="Activate" Value="False" />
                        <om:Property Name="PortName" Value="SendOrgDetailsCommercePort" />
                        <om:Property Name="MessageName" Value="orgProfilesResponse" />
                        <om:Property Name="OperationName" Value="Operation_1" />
                        <om:Property Name="OperationMessageName" Value="Response" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Rcv_orgProfilesResponse" />
                        <om:Property Name="Signal" Value="True" />
                    </om:Element>
                    <om:Element Type="Decision" OID="cc1d27e8-a1f1-444a-97fd-10e0af9f9583" ParentLink="ComplexStatement_Statement" LowerBound="398.1" HigherBound="411.1">
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="ArchiveResponse" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="DecisionBranch" OID="f035c378-c2e0-4f95-abda-5e19c349fed4" ParentLink="ReallyComplexStatement_Branch" LowerBound="399.21" HigherBound="411.1">
                            <om:Property Name="Expression" Value="isOrgArchive" />
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="YES" />
                            <om:Property Name="Signal" Value="False" />
                            <om:Element Type="Construct" OID="f1a72ee2-a96a-46e2-a431-433572434327" ParentLink="ComplexStatement_Statement" LowerBound="401.1" HigherBound="408.1">
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Construct_archiveProfileResponse" />
                                <om:Property Name="Signal" Value="True" />
                                <om:Element Type="MessageRef" OID="5f823bc5-6210-4589-b4dd-b9b2ce44a864" ParentLink="Construct_MessageRef" LowerBound="402.35" HigherBound="402.50">
                                    <om:Property Name="Ref" Value="archiveResponse" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                                <om:Element Type="MessageAssignment" OID="1b0df716-5249-4590-934c-ec24b92b8960" ParentLink="ComplexStatement_Statement" LowerBound="404.1" HigherBound="407.1">
                                    <om:Property Name="Expression" Value="archiveResponse= orgProfilesResponse;&#xD;&#xA;archiveResponse(FILE.ReceivedFileName)=&quot;OrgResponseCS_&quot;+legacyOrgID.ToString();" />
                                    <om:Property Name="ReportToAnalyst" Value="False" />
                                    <om:Property Name="Name" Value="Assign_FileName" />
                                    <om:Property Name="Signal" Value="True" />
                                </om:Element>
                            </om:Element>
                            <om:Element Type="Send" OID="47a222e8-4cce-4451-a723-43bd54483256" ParentLink="ComplexStatement_Statement" LowerBound="408.1" HigherBound="410.1">
                                <om:Property Name="PortName" Value="archiveResponsePort" />
                                <om:Property Name="MessageName" Value="archiveResponse" />
                                <om:Property Name="OperationName" Value="archiveResp" />
                                <om:Property Name="OperationMessageName" Value="Request" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Send_ArchiveResp" />
                                <om:Property Name="Signal" Value="True" />
                            </om:Element>
                        </om:Element>
                        <om:Element Type="DecisionBranch" OID="b546288c-e71b-41a3-a29d-403dffd4ded5" ParentLink="ReallyComplexStatement_Branch">
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Else" />
                            <om:Property Name="Signal" Value="False" />
                        </om:Element>
                    </om:Element>
                    <om:Element Type="VariableAssignment" OID="65f02465-2778-45bc-8011-907449b9e884" ParentLink="ComplexStatement_Statement" LowerBound="411.1" HigherBound="414.1">
                        <om:Property Name="Expression" Value="intInvalidResponseCount=0;&#xD;&#xA;intInvalidResponseCount=System.Convert.ToInt32(xpath(orgProfilesResponse,&quot;count(/*[local-name()='CommerceServerProfilesImportResponse' and namespace-uri()='']/*[local-name()='InvalidProfileImportMessage' and namespace-uri()=''])&quot;));" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Get InvalidResponse Count " />
                        <om:Property Name="Signal" Value="True" />
                    </om:Element>
                    <om:Element Type="Decision" OID="99928dde-329f-4f48-b1b8-88778c177728" ParentLink="ComplexStatement_Statement" LowerBound="414.1" HigherBound="425.1">
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Decide_RespType" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="DecisionBranch" OID="8068cf22-4194-4973-8610-a8a4462a1f6b" ParentLink="ReallyComplexStatement_Branch" LowerBound="415.21" HigherBound="425.1">
                            <om:Property Name="Expression" Value="intInvalidResponseCount &gt; 0" />
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="ERROR " />
                            <om:Property Name="Signal" Value="False" />
                            <om:Element Type="VariableAssignment" OID="b446dfce-8594-4673-8267-1bbd6ff6b069" ParentLink="ComplexStatement_Statement" LowerBound="417.1" HigherBound="424.1">
                                <om:Property Name="Expression" Value="strResponseText=System.String.Empty;&#xD;&#xA;strResponseText=xpath(orgProfilesResponse,&quot;string(/*[local-name()='CommerceServerProfilesImportResponse' and namespace-uri()='']/*[local-name()='InvalidProfileImportMessage' and namespace-uri()=''])&quot;);&#xD;&#xA;strResponseText= &quot;ORG : &quot; +strResponseText;&#xD;&#xA;strCompleteErrorResponse.AppendLine(strResponseText);&#xD;&#xA;isFailed= true;&#xD;&#xA;&#xD;&#xA;" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Get error response" />
                                <om:Property Name="Signal" Value="True" />
                            </om:Element>
                        </om:Element>
                        <om:Element Type="DecisionBranch" OID="d7e9a212-953f-4306-8d79-65bee15c0610" ParentLink="ReallyComplexStatement_Branch">
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Else" />
                            <om:Property Name="Signal" Value="False" />
                        </om:Element>
                    </om:Element>
                    <om:Element Type="Decision" OID="1d96e032-6f7f-4c54-a27b-74e6204f97e2" ParentLink="ComplexStatement_Statement" LowerBound="425.1" HigherBound="438.1">
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Archive_Out" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="DecisionBranch" OID="f11ddedf-1e5a-4e2c-8c66-519401d1b839" ParentLink="ReallyComplexStatement_Branch" LowerBound="426.21" HigherBound="438.1">
                            <om:Property Name="Expression" Value="isSubscriptionArchive" />
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="YES" />
                            <om:Property Name="Signal" Value="True" />
                            <om:Element Type="Construct" OID="00f7b20f-145e-4719-b10c-d78d0c2374eb" ParentLink="ComplexStatement_Statement" LowerBound="428.1" HigherBound="435.1">
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Construct_archiveOut" />
                                <om:Property Name="Signal" Value="True" />
                                <om:Element Type="MessageRef" OID="beb9cc21-37b1-48ee-a636-6e7698dc9ec8" ParentLink="Construct_MessageRef" LowerBound="429.35" HigherBound="429.45">
                                    <om:Property Name="Ref" Value="archiveOut" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                                <om:Element Type="MessageAssignment" OID="5e930773-ad46-4bda-ac6c-02f4730bd0b8" ParentLink="ComplexStatement_Statement" LowerBound="431.1" HigherBound="434.1">
                                    <om:Property Name="Expression" Value="archiveOut=orgProfilesCommerce;&#xD;&#xA;archiveOut(FILE.ReceivedFileName)=&quot;SubscriptionProfilesToCommerceServer_&quot;+legacyOrgID.ToString();" />
                                    <om:Property Name="ReportToAnalyst" Value="False" />
                                    <om:Property Name="Name" Value="MessageAssignment_1" />
                                    <om:Property Name="Signal" Value="True" />
                                </om:Element>
                            </om:Element>
                            <om:Element Type="Send" OID="6c0cee3b-e31a-41fe-b6a0-a555e0d318bc" ParentLink="ComplexStatement_Statement" LowerBound="435.1" HigherBound="437.1">
                                <om:Property Name="PortName" Value="archiveOutPort" />
                                <om:Property Name="MessageName" Value="archiveOut" />
                                <om:Property Name="OperationName" Value="Operation_1" />
                                <om:Property Name="OperationMessageName" Value="Request" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Snd_archiveOut" />
                                <om:Property Name="Signal" Value="True" />
                            </om:Element>
                        </om:Element>
                        <om:Element Type="DecisionBranch" OID="517f83c2-c53f-42d2-8681-ec756dea5cf8" ParentLink="ReallyComplexStatement_Branch">
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Else" />
                            <om:Property Name="Signal" Value="False" />
                        </om:Element>
                    </om:Element>
                    <om:Element Type="Decision" OID="74fbddee-7012-4d09-9f8d-0373a0fc749c" ParentLink="ComplexStatement_Statement" LowerBound="438.1" HigherBound="456.1">
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Decide_failure" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="DecisionBranch" OID="218daa97-a83e-47c1-a637-44373878a400" ParentLink="ReallyComplexStatement_Branch" LowerBound="439.21" HigherBound="456.1">
                            <om:Property Name="Expression" Value="isFailed" />
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="ERROR EXISTS" />
                            <om:Property Name="Signal" Value="True" />
                            <om:Element Type="Construct" OID="e6be85ac-3b40-4dc1-9c30-e2df67a4f3f1" ParentLink="ComplexStatement_Statement" LowerBound="441.1" HigherBound="453.1">
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Construct_updateLegacyResponse" />
                                <om:Property Name="Signal" Value="True" />
                                <om:Element Type="MessageRef" OID="ae4bbf50-6357-45bf-a76f-e074dd293946" ParentLink="Construct_MessageRef" LowerBound="442.35" HigherBound="442.55">
                                    <om:Property Name="Ref" Value="updateLegacyResponse" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                                <om:Element Type="MessageAssignment" OID="2a415db2-7a81-4112-9789-0971689bba3d" ParentLink="ComplexStatement_Statement" LowerBound="444.1" HigherBound="452.1">
                                    <om:Property Name="Expression" Value="xmldoc.LoadXml(&quot;&lt;ns0:procSetOrganizationError xmlns:ns0=\&quot;http://schemas.microsoft.com/Sql/2008/05/TypedProcedures/dbo\&quot;&gt;&lt;ns0:pintOrganizationID&gt;10&lt;/ns0:pintOrganizationID&gt;&lt;ns0:pstrLegacySourceSystem&gt;pstrL&lt;/ns0:pstrLegacySourceSystem&gt;&lt;ns0:pstrLoadStatus&gt;pstrLoadStatuspstrLo&lt;/ns0:pstrLoadStatus&gt;&lt;ns0:pstrLoadError&gt;pstrLoadError_0&lt;/ns0:pstrLoadError&gt;&lt;/ns0:procSetOrganizationError&gt;&quot;);&#xD;&#xA;&#xD;&#xA;updateLegacyResponse=xmldoc;&#xD;&#xA;updateLegacyResponse.pstrLoadError=strCompleteErrorResponse.ToString();&#xD;&#xA;updateLegacyResponse.pstrLoadStatus=&quot;CS Failed&quot;;&#xD;&#xA;updateLegacyResponse.pintOrganizationID=legacyOrgID;&#xD;&#xA;updateLegacyResponse.pstrLegacySourceSystem=legacySource;&#xD;&#xA;" />
                                    <om:Property Name="ReportToAnalyst" Value="False" />
                                    <om:Property Name="Name" Value="MessageAssignment_2" />
                                    <om:Property Name="Signal" Value="True" />
                                </om:Element>
                            </om:Element>
                            <om:Element Type="Send" OID="b462332a-8a16-408b-bf69-26ee7209a707" ParentLink="ComplexStatement_Statement" LowerBound="453.1" HigherBound="455.1">
                                <om:Property Name="PortName" Value="SetErrorStatusPort" />
                                <om:Property Name="MessageName" Value="updateLegacyResponse" />
                                <om:Property Name="OperationName" Value="UpdateSql" />
                                <om:Property Name="OperationMessageName" Value="Request" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Snd_updateLegacyResponse" />
                                <om:Property Name="Signal" Value="True" />
                            </om:Element>
                        </om:Element>
                        <om:Element Type="DecisionBranch" OID="074719a3-90d5-498f-aee3-b275f3fe4104" ParentLink="ReallyComplexStatement_Branch">
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Else" />
                            <om:Property Name="Signal" Value="False" />
                        </om:Element>
                    </om:Element>
                    <om:Element Type="Construct" OID="d2f73212-aca3-4167-adfe-a3ac94287b0d" ParentLink="ComplexStatement_Statement" LowerBound="456.1" HigherBound="462.1">
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Construct_SubsProfileCS" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="MessageRef" OID="f870aeef-0364-4288-9e52-8bfcc8cdbcef" ParentLink="Construct_MessageRef" LowerBound="457.31" HigherBound="457.52">
                            <om:Property Name="Ref" Value="subscriptionProfileCS" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Signal" Value="False" />
                        </om:Element>
                        <om:Element Type="Transform" OID="c95bf8ab-76c9-4f96-87d1-9c12f92dc291" ParentLink="ComplexStatement_Statement" LowerBound="459.1" HigherBound="461.1">
                            <om:Property Name="ClassName" Value="BTNextGen.BizTalk.Profiles.Maps.SubscriptionLegacy_To_SubscriptionCommerceServer" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Transform_userProfileCS" />
                            <om:Property Name="Signal" Value="True" />
                            <om:Element Type="MessagePartRef" OID="1383d22f-57f6-4532-bd9c-10e5d93c53c2" ParentLink="Transform_OutputMessagePartRef" LowerBound="460.36" HigherBound="460.57">
                                <om:Property Name="MessageRef" Value="subscriptionProfileCS" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="MessagePartReference_4" />
                                <om:Property Name="Signal" Value="False" />
                            </om:Element>
                            <om:Element Type="MessagePartRef" OID="40c3f689-9392-42f5-a884-e8e4f6b0b714" ParentLink="Transform_InputMessagePartRef" LowerBound="460.143" HigherBound="460.159">
                                <om:Property Name="MessageRef" Value="OrgDetailsLegacy" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="MessagePartReference_3" />
                                <om:Property Name="Signal" Value="False" />
                            </om:Element>
                        </om:Element>
                    </om:Element>
                    <om:Element Type="Send" OID="a3768f96-0212-46c6-a21d-ac2963fd06de" ParentLink="ComplexStatement_Statement" LowerBound="462.1" HigherBound="464.1">
                        <om:Property Name="PortName" Value="SendOrgDetailsCommercePort" />
                        <om:Property Name="MessageName" Value="subscriptionProfileCS" />
                        <om:Property Name="OperationName" Value="Operation_1" />
                        <om:Property Name="OperationMessageName" Value="Request" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Send_SubscriptionCS" />
                        <om:Property Name="Signal" Value="True" />
                    </om:Element>
                    <om:Element Type="Receive" OID="a83716a3-f251-4176-b511-6a20386a267b" ParentLink="ComplexStatement_Statement" LowerBound="464.1" HigherBound="466.1">
                        <om:Property Name="Activate" Value="False" />
                        <om:Property Name="PortName" Value="SendOrgDetailsCommercePort" />
                        <om:Property Name="MessageName" Value="subscriptionCSResponse" />
                        <om:Property Name="OperationName" Value="Operation_1" />
                        <om:Property Name="OperationMessageName" Value="Response" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Rcv_SubscripTionResponse" />
                        <om:Property Name="Signal" Value="True" />
                    </om:Element>
                    <om:Element Type="VariableAssignment" OID="cc2e64ce-700e-41fd-a2b7-81676af85caf" ParentLink="ComplexStatement_Statement" LowerBound="466.1" HigherBound="468.1">
                        <om:Property Name="Expression" Value="intInvalidResponseCount=System.Convert.ToInt32(xpath(subscriptionCSResponse,&quot;count(/*[local-name()='CommerceServerProfilesImportResponse' and namespace-uri()='']/*[local-name()='InvalidProfileImportMessage' and namespace-uri()=''])&quot;));" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Get InvalidResponse Count " />
                        <om:Property Name="Signal" Value="True" />
                    </om:Element>
                    <om:Element Type="Decision" OID="cbac7ce2-a044-41d1-83b1-97ba6a3240dc" ParentLink="ComplexStatement_Statement" LowerBound="468.1" HigherBound="489.1">
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Decide_RespType" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="DecisionBranch" OID="0f718e35-dfa2-408a-a2b6-ec61be7e1842" ParentLink="ReallyComplexStatement_Branch" LowerBound="469.21" HigherBound="489.1">
                            <om:Property Name="Expression" Value="intInvalidResponseCount &gt; 0" />
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="ERROR " />
                            <om:Property Name="Signal" Value="False" />
                            <om:Element Type="VariableAssignment" OID="14026b0d-c748-4b5f-92e8-f78175c85106" ParentLink="ComplexStatement_Statement" LowerBound="471.1" HigherBound="474.1">
                                <om:Property Name="Expression" Value="strResponseText=xpath(subscriptionCSResponse,&quot;string(/*[local-name()='CommerceServerProfilesImportResponse' and namespace-uri()='']/*[local-name()='InvalidProfileImportMessage' and namespace-uri()=''])&quot;);&#xD;&#xA;&#xD;&#xA;" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Get error response" />
                                <om:Property Name="Signal" Value="True" />
                            </om:Element>
                            <om:Element Type="Construct" OID="2eef4a10-3bdb-434e-aaa5-0dc9197379bd" ParentLink="ComplexStatement_Statement" LowerBound="474.1" HigherBound="486.1">
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Construct_updateLegacyResponse" />
                                <om:Property Name="Signal" Value="True" />
                                <om:Element Type="MessageRef" OID="5a216ac9-7ba2-4ad5-9e4e-7530ca39c699" ParentLink="Construct_MessageRef" LowerBound="475.35" HigherBound="475.55">
                                    <om:Property Name="Ref" Value="updateLegacyResponse" />
                                    <om:Property Name="ReportToAnalyst" Value="True" />
                                    <om:Property Name="Signal" Value="False" />
                                </om:Element>
                                <om:Element Type="MessageAssignment" OID="dd940c3b-d17f-4b86-b59e-2bd90234d594" ParentLink="ComplexStatement_Statement" LowerBound="477.1" HigherBound="485.1">
                                    <om:Property Name="Expression" Value="xmldoc.LoadXml(&quot;&lt;ns0:procSetOrganizationError xmlns:ns0=\&quot;http://schemas.microsoft.com/Sql/2008/05/TypedProcedures/dbo\&quot;&gt;&lt;ns0:pintOrganizationID&gt;10&lt;/ns0:pintOrganizationID&gt;&lt;ns0:pstrLegacySourceSystem&gt;pstrL&lt;/ns0:pstrLegacySourceSystem&gt;&lt;ns0:pstrLoadStatus&gt;pstrLoadStatuspstrLo&lt;/ns0:pstrLoadStatus&gt;&lt;ns0:pstrLoadError&gt;pstrLoadError_0&lt;/ns0:pstrLoadError&gt;&lt;/ns0:procSetOrganizationError&gt;&quot;);&#xD;&#xA;&#xD;&#xA;updateLegacyResponse=xmldoc;&#xD;&#xA;updateLegacyResponse.pstrLoadError=strResponseText;&#xD;&#xA;updateLegacyResponse.pstrLoadStatus=&quot;CS Partial Failed&quot;;&#xD;&#xA;updateLegacyResponse.pintOrganizationID=legacyOrgID;&#xD;&#xA;updateLegacyResponse.pstrLegacySourceSystem=legacySource;&#xD;&#xA;" />
                                    <om:Property Name="ReportToAnalyst" Value="False" />
                                    <om:Property Name="Name" Value="MessageAssignment_2" />
                                    <om:Property Name="Signal" Value="True" />
                                </om:Element>
                            </om:Element>
                            <om:Element Type="Send" OID="06c59e93-9e1c-4164-9afb-9dec12d877f4" ParentLink="ComplexStatement_Statement" LowerBound="486.1" HigherBound="488.1">
                                <om:Property Name="PortName" Value="SetErrorStatusPort" />
                                <om:Property Name="MessageName" Value="updateLegacyResponse" />
                                <om:Property Name="OperationName" Value="UpdateSql" />
                                <om:Property Name="OperationMessageName" Value="Request" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Name" Value="Snd_updateLegacyResponse" />
                                <om:Property Name="Signal" Value="True" />
                            </om:Element>
                        </om:Element>
                        <om:Element Type="DecisionBranch" OID="083df208-107c-4d31-ac6b-75ad74666d96" ParentLink="ReallyComplexStatement_Branch">
                            <om:Property Name="IsGhostBranch" Value="True" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Else" />
                            <om:Property Name="Signal" Value="False" />
                        </om:Element>
                    </om:Element>
                    <om:Element Type="Construct" OID="ac0d97d1-e8f9-4281-a9e6-0579acb1b374" ParentLink="ComplexStatement_Statement" LowerBound="489.1" HigherBound="498.1">
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Construct_UserProfileRequest" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="MessageRef" OID="ea21b571-82b1-4b62-8dda-c49c83b57c23" ParentLink="Construct_MessageRef" LowerBound="490.31" HigherBound="490.50">
                            <om:Property Name="Ref" Value="usersProfileRequest" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Signal" Value="False" />
                        </om:Element>
                        <om:Element Type="MessageAssignment" OID="0a5ca374-5083-40be-9bc9-c240259bb415" ParentLink="ComplexStatement_Statement" LowerBound="492.1" HigherBound="497.1">
                            <om:Property Name="Expression" Value="xmlDocUsers.LoadXml(&quot;&lt;ns0:procGetUser xmlns:ns0=\&quot;http://schemas.microsoft.com/Sql/2008/05/TypedProcedures/dbo\&quot;&gt;&lt;ns0:pintOrganizationID&gt;&lt;/ns0:pintOrganizationID&gt;&lt;ns0:SourceSystem&gt;&lt;/ns0:SourceSystem&gt;&lt;/ns0:procGetUser&gt;&quot;);&#xD;&#xA;usersProfileRequest=xmlDocUsers;&#xD;&#xA;usersProfileRequest.pintOrganizationID=legacyOrgID;&#xD;&#xA;usersProfileRequest.SourceSystem= legacySource;" />
                            <om:Property Name="ReportToAnalyst" Value="False" />
                            <om:Property Name="Name" Value="MessageAssignment_2" />
                            <om:Property Name="Signal" Value="False" />
                        </om:Element>
                    </om:Element>
                    <om:Element Type="Send" OID="a7c8f2a7-06f0-44d5-96e9-6a3053db72ee" ParentLink="ComplexStatement_Statement" LowerBound="498.1" HigherBound="500.1">
                        <om:Property Name="PortName" Value="GetUsersSqlSendPort" />
                        <om:Property Name="MessageName" Value="usersProfileRequest" />
                        <om:Property Name="OperationName" Value="InvokeUserOrchestration" />
                        <om:Property Name="OperationMessageName" Value="Request" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Send_UserRequest" />
                        <om:Property Name="Signal" Value="True" />
                    </om:Element>
                    <om:Element Type="Construct" OID="54dcf341-e684-46a7-9435-70c4436409b4" ParentLink="ComplexStatement_Statement" LowerBound="500.1" HigherBound="509.1">
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Construct_accountsProfileRequest" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="MessageRef" OID="ff9a50be-b06f-4002-b66b-a282d79fe060" ParentLink="Construct_MessageRef" LowerBound="501.31" HigherBound="501.53">
                            <om:Property Name="Ref" Value="accountsProfileRequest" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Signal" Value="False" />
                        </om:Element>
                        <om:Element Type="MessageAssignment" OID="7d0baf29-1fe3-4dde-b2df-a17eb8af0ac5" ParentLink="ComplexStatement_Statement" LowerBound="503.1" HigherBound="508.1">
                            <om:Property Name="Expression" Value="xmlDocAccounts.LoadXml(&quot;&lt;ns0:procGetBTAccount xmlns:ns0=\&quot;http://schemas.microsoft.com/Sql/2008/05/TypedProcedures/dbo\&quot;&gt;&lt;ns0:pintOrganizationID&gt;&lt;/ns0:pintOrganizationID&gt;&lt;ns0:pstrLegacySourceSystem&gt;&lt;/ns0:pstrLegacySourceSystem&gt;&lt;/ns0:procGetBTAccount&gt;&quot;);&#xD;&#xA;accountsProfileRequest=xmlDocAccounts;&#xD;&#xA;accountsProfileRequest.pintOrganizationID=legacyOrgID;&#xD;&#xA;accountsProfileRequest.pstrLegacySourceSystem= legacySource;" />
                            <om:Property Name="ReportToAnalyst" Value="False" />
                            <om:Property Name="Name" Value="MessageAssignment_1" />
                            <om:Property Name="Signal" Value="True" />
                        </om:Element>
                    </om:Element>
                    <om:Element Type="Send" OID="d5d32546-cb64-49bf-9578-7f3bfd1f81de" ParentLink="ComplexStatement_Statement" LowerBound="509.1" HigherBound="511.1">
                        <om:Property Name="PortName" Value="GetAccountsSqlSendPort" />
                        <om:Property Name="MessageName" Value="accountsProfileRequest" />
                        <om:Property Name="OperationName" Value="InvokeAccountsOrchestration" />
                        <om:Property Name="OperationMessageName" Value="Request" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Send_AccountsNotify" />
                        <om:Property Name="Signal" Value="True" />
                    </om:Element>
                    <om:Element Type="Catch" OID="0dcbcbeb-178f-4d9d-a1cf-402ebc8ae05d" ParentLink="Scope_Catch" LowerBound="514.1" HigherBound="549.1">
                        <om:Property Name="ExceptionName" Value="ex" />
                        <om:Property Name="ExceptionType" Value="System.Exception" />
                        <om:Property Name="IsFaultMessage" Value="False" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Catch_AllExceptions" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="Construct" OID="d6e9c4f5-baf4-4d59-b264-9617e35df9a8" ParentLink="Catch_Statement" LowerBound="517.1" HigherBound="529.1">
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Construct_updateLegacyResponse" />
                            <om:Property Name="Signal" Value="True" />
                            <om:Element Type="MessageRef" OID="c44a3da4-e63f-45da-8868-0496bf3fad6a" ParentLink="Construct_MessageRef" LowerBound="518.35" HigherBound="518.55">
                                <om:Property Name="Ref" Value="updateLegacyResponse" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Signal" Value="False" />
                            </om:Element>
                            <om:Element Type="MessageAssignment" OID="b087aa0c-9521-4c1e-a611-1f4c349238f7" ParentLink="ComplexStatement_Statement" LowerBound="520.1" HigherBound="528.1">
                                <om:Property Name="Expression" Value="xmldoc.LoadXml(&quot;&lt;ns0:procSetOrganizationError xmlns:ns0=\&quot;http://schemas.microsoft.com/Sql/2008/05/TypedProcedures/dbo\&quot;&gt;&lt;ns0:pintOrganizationID&gt;10&lt;/ns0:pintOrganizationID&gt;&lt;ns0:pstrLegacySourceSystem&gt;pstrL&lt;/ns0:pstrLegacySourceSystem&gt;&lt;ns0:pstrLoadStatus&gt;pstrLoadStatuspstrLo&lt;/ns0:pstrLoadStatus&gt;&lt;ns0:pstrLoadError&gt;pstrLoadError_0&lt;/ns0:pstrLoadError&gt;&lt;/ns0:procSetOrganizationError&gt;&quot;);&#xD;&#xA;&#xD;&#xA;updateLegacyResponse=xmldoc;&#xD;&#xA;updateLegacyResponse.pstrLoadError=ex.Message.ToString();&#xD;&#xA;updateLegacyResponse.pstrLoadStatus=&quot;CS Failed&quot;;&#xD;&#xA;updateLegacyResponse.pintOrganizationID=legacyOrgID;&#xD;&#xA;updateLegacyResponse.pstrLegacySourceSystem=legacySource;&#xD;&#xA;" />
                                <om:Property Name="ReportToAnalyst" Value="False" />
                                <om:Property Name="Name" Value="MessageAssignment_2" />
                                <om:Property Name="Signal" Value="True" />
                            </om:Element>
                        </om:Element>
                        <om:Element Type="Send" OID="fbba3443-820c-49fe-9231-4409f69d0249" ParentLink="Catch_Statement" LowerBound="529.1" HigherBound="531.1">
                            <om:Property Name="PortName" Value="SetErrorStatusPort" />
                            <om:Property Name="MessageName" Value="updateLegacyResponse" />
                            <om:Property Name="OperationName" Value="UpdateSql" />
                            <om:Property Name="OperationMessageName" Value="Request" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Send_updatselegacyStat" />
                            <om:Property Name="Signal" Value="True" />
                        </om:Element>
                        <om:Element Type="Construct" OID="63d74eef-0cc5-4863-ac4b-bd19e04b566a" ParentLink="Catch_Statement" LowerBound="531.1" HigherBound="546.1">
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Construct_faultMessage" />
                            <om:Property Name="Signal" Value="True" />
                            <om:Element Type="MessageRef" OID="8c1c671c-b459-4d7b-b1a5-622aa4400a85" ParentLink="Construct_MessageRef" LowerBound="532.35" HigherBound="532.47">
                                <om:Property Name="Ref" Value="faultMessage" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Signal" Value="False" />
                            </om:Element>
                            <om:Element Type="MessageAssignment" OID="0f0895a2-c302-4d72-b709-6b4f33462f91" ParentLink="ComplexStatement_Statement" LowerBound="534.1" HigherBound="545.1">
                                <om:Property Name="Expression" Value="// Create fault exception Message&#xD;&#xA;faultMessage= Microsoft.Practices.ESB.ExceptionHandling.ExceptionMgmt.CreateFaultMessage();&#xD;&#xA;&#xD;&#xA;// Assign Properties&#xD;&#xA;&#xD;&#xA;faultMessage.FailureCategory=&quot;Commerce Server Exception&quot;;&#xD;&#xA;faultMessage.FaultDescription=ex.Message;&#xD;&#xA;faultMessage.FaultCode=&quot;1002&quot;;&#xD;&#xA;faultMessage.FaultSeverity= Microsoft.Practices.ESB.ExceptionHandling.FaultSeverity.Severe;&#xD;&#xA;Microsoft.Practices.ESB.ExceptionHandling.ExceptionMgmt.AddMessage(faultMessage,OrgDetailsLegacy);&#xD;&#xA;" />
                                <om:Property Name="ReportToAnalyst" Value="False" />
                                <om:Property Name="Name" Value="MessageAssignment_3" />
                                <om:Property Name="Signal" Value="False" />
                            </om:Element>
                        </om:Element>
                        <om:Element Type="Suspend" OID="9273c69b-8c12-46b3-98a2-4ce35877a17d" ParentLink="Catch_Statement" LowerBound="546.1" HigherBound="548.1">
                            <om:Property Name="ErrorMessage" Value="&quot;Error in ImportOrganizations Orchestration. The exception is :  &quot; + ex.Message;" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Suspend" />
                            <om:Property Name="Signal" Value="True" />
                        </om:Element>
                    </om:Element>
                    <om:Element Type="Catch" OID="b3215bdc-878b-4d9c-86a5-858cce7bc676" ParentLink="Scope_Catch" LowerBound="549.1" HigherBound="572.1">
                        <om:Property Name="ExceptionName" Value="wcfFaultException" />
                        <om:Property Name="ExceptionType" Value="IProfileWCFPort.RemoveAssociatedAccounts.faultRemoveAssociated" />
                        <om:Property Name="IsFaultMessage" Value="False" />
                        <om:Property Name="ReportToAnalyst" Value="True" />
                        <om:Property Name="Name" Value="Catch_wcfFault" />
                        <om:Property Name="Signal" Value="True" />
                        <om:Element Type="VariableAssignment" OID="37763373-45f9-42dd-9197-e8c495206222" ParentLink="Catch_Statement" LowerBound="552.1" HigherBound="555.1">
                            <om:Property Name="Expression" Value="xDoc= wcfFaultException.faultMsgBody;&#xD;&#xA;faultErrorDesc= xDoc.OuterXml;&#xD;&#xA;" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Extract the fault" />
                            <om:Property Name="Signal" Value="True" />
                        </om:Element>
                        <om:Element Type="Construct" OID="31e71346-2b5b-482b-8ece-63a6afaf5169" ParentLink="Catch_Statement" LowerBound="555.1" HigherBound="567.1">
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Construct_updateLegacyResponse" />
                            <om:Property Name="Signal" Value="True" />
                            <om:Element Type="MessageRef" OID="3a3f30ed-fa04-45fa-a62d-94c3b6fc56de" ParentLink="Construct_MessageRef" LowerBound="556.35" HigherBound="556.55">
                                <om:Property Name="Ref" Value="updateLegacyResponse" />
                                <om:Property Name="ReportToAnalyst" Value="True" />
                                <om:Property Name="Signal" Value="False" />
                            </om:Element>
                            <om:Element Type="MessageAssignment" OID="fb71f732-df8a-4a68-baaf-67372e3fd9cd" ParentLink="ComplexStatement_Statement" LowerBound="558.1" HigherBound="566.1">
                                <om:Property Name="Expression" Value="xmldoc.LoadXml(&quot;&lt;ns0:procSetOrganizationError xmlns:ns0=\&quot;http://schemas.microsoft.com/Sql/2008/05/TypedProcedures/dbo\&quot;&gt;&lt;ns0:pintOrganizationID&gt;10&lt;/ns0:pintOrganizationID&gt;&lt;ns0:pstrLegacySourceSystem&gt;pstrL&lt;/ns0:pstrLegacySourceSystem&gt;&lt;ns0:pstrLoadStatus&gt;pstrLoadStatuspstrLo&lt;/ns0:pstrLoadStatus&gt;&lt;ns0:pstrLoadError&gt;pstrLoadError_0&lt;/ns0:pstrLoadError&gt;&lt;/ns0:procSetOrganizationError&gt;&quot;);&#xD;&#xA;&#xD;&#xA;updateLegacyResponse=xmldoc;&#xD;&#xA;updateLegacyResponse.pstrLoadError=&quot;IProfile service Exception in RemoveAssociatedAccounts &quot;+faultErrorDesc;&#xD;&#xA;updateLegacyResponse.pstrLoadStatus=&quot;CS Failed&quot;;&#xD;&#xA;updateLegacyResponse.pintOrganizationID=legacyOrgID;&#xD;&#xA;updateLegacyResponse.pstrLegacySourceSystem=legacySource;&#xD;&#xA;" />
                                <om:Property Name="ReportToAnalyst" Value="False" />
                                <om:Property Name="Name" Value="MessageAssignment_2" />
                                <om:Property Name="Signal" Value="False" />
                            </om:Element>
                        </om:Element>
                        <om:Element Type="Send" OID="2aea9ada-325e-4f16-8370-d896b5a49032" ParentLink="Catch_Statement" LowerBound="567.1" HigherBound="569.1">
                            <om:Property Name="PortName" Value="SetErrorStatusPort" />
                            <om:Property Name="MessageName" Value="updateLegacyResponse" />
                            <om:Property Name="OperationName" Value="UpdateSql" />
                            <om:Property Name="OperationMessageName" Value="Request" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Send_updatselegacyStat" />
                            <om:Property Name="Signal" Value="True" />
                        </om:Element>
                        <om:Element Type="Suspend" OID="eb843068-03ab-44ab-8e18-cd02c05a83f4" ParentLink="Catch_Statement" LowerBound="569.1" HigherBound="571.1">
                            <om:Property Name="ErrorMessage" Value="&quot;Error in ImportOrganizations Orchestration. The exception is :  &quot; + faultErrorDesc;" />
                            <om:Property Name="ReportToAnalyst" Value="True" />
                            <om:Property Name="Name" Value="Suspend" />
                            <om:Property Name="Signal" Value="False" />
                        </om:Element>
                    </om:Element>
                </om:Element>
            </om:Element>
            <om:Element Type="PortDeclaration" OID="538741a3-3257-43aa-80a9-ea75bf9e534f" ParentLink="ServiceDeclaration_PortDeclaration" LowerBound="105.1" HigherBound="107.1">
                <om:Property Name="PortModifier" Value="Implements" />
                <om:Property Name="Orientation" Value="Left" />
                <om:Property Name="PortIndex" Value="-1" />
                <om:Property Name="IsWebPort" Value="False" />
                <om:Property Name="OrderedDelivery" Value="False" />
                <om:Property Name="DeliveryNotification" Value="None" />
                <om:Property Name="Type" Value="BTNextGen.BizTalk.OrganizationProfiles.Orchestration.ReceiveOrgDetailsPortType" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="ReceiveOrgDetailsPort" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="DirectBindingAttribute" OID="40ada104-c3c9-4cf4-8b9b-c62042d885d0" ParentLink="PortDeclaration_CLRAttribute" LowerBound="105.1" HigherBound="106.1">
                    <om:Property Name="DirectBindingType" Value="MessageBox" />
                    <om:Property Name="Signal" Value="False" />
                </om:Element>
            </om:Element>
            <om:Element Type="PortDeclaration" OID="bed8f72f-435a-43ff-9f18-69f00fa6673a" ParentLink="ServiceDeclaration_PortDeclaration" LowerBound="107.1" HigherBound="109.1">
                <om:Property Name="PortModifier" Value="Uses" />
                <om:Property Name="Orientation" Value="Right" />
                <om:Property Name="PortIndex" Value="5" />
                <om:Property Name="IsWebPort" Value="False" />
                <om:Property Name="OrderedDelivery" Value="False" />
                <om:Property Name="DeliveryNotification" Value="None" />
                <om:Property Name="Type" Value="BTNextGen.BizTalk.OrganizationProfiles.Orchestration.archiveOrgProfilesInPortType" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="archiveOrgProfilesInPort" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="LogicalBindingAttribute" OID="0915996c-6766-4553-bc34-2f55aaeace12" ParentLink="PortDeclaration_CLRAttribute" LowerBound="107.1" HigherBound="108.1">
                    <om:Property Name="Signal" Value="False" />
                </om:Element>
            </om:Element>
            <om:Element Type="PortDeclaration" OID="bbb5e955-b28a-4b4d-80d0-9bd90dd93de1" ParentLink="ServiceDeclaration_PortDeclaration" LowerBound="109.1" HigherBound="111.1">
                <om:Property Name="PortModifier" Value="Uses" />
                <om:Property Name="Orientation" Value="Right" />
                <om:Property Name="PortIndex" Value="15" />
                <om:Property Name="IsWebPort" Value="False" />
                <om:Property Name="OrderedDelivery" Value="False" />
                <om:Property Name="DeliveryNotification" Value="None" />
                <om:Property Name="Type" Value="BTNextGen.BizTalk.OrganizationProfiles.Orchestration.archiveOutPortType" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="archiveOutPort" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="LogicalBindingAttribute" OID="c07d2eda-3da4-4890-acec-7cf0ab420505" ParentLink="PortDeclaration_CLRAttribute" LowerBound="109.1" HigherBound="110.1">
                    <om:Property Name="Signal" Value="False" />
                </om:Element>
            </om:Element>
            <om:Element Type="PortDeclaration" OID="99c40dea-af2e-4e39-9b65-c313178a20bb" ParentLink="ServiceDeclaration_PortDeclaration" LowerBound="111.1" HigherBound="113.1">
                <om:Property Name="PortModifier" Value="Uses" />
                <om:Property Name="Orientation" Value="Right" />
                <om:Property Name="PortIndex" Value="20" />
                <om:Property Name="IsWebPort" Value="False" />
                <om:Property Name="OrderedDelivery" Value="False" />
                <om:Property Name="DeliveryNotification" Value="None" />
                <om:Property Name="Type" Value="BTNextGen.BizTalk.OrganizationProfiles.Orchestration.archiveResponsePortType" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="archiveResponsePort" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="LogicalBindingAttribute" OID="9a409f04-1c09-435c-9905-80ed640802df" ParentLink="PortDeclaration_CLRAttribute" LowerBound="111.1" HigherBound="112.1">
                    <om:Property Name="Signal" Value="False" />
                </om:Element>
            </om:Element>
            <om:Element Type="PortDeclaration" OID="90fefdb9-e6da-45ee-a3b1-f7baa9efecb3" ParentLink="ServiceDeclaration_PortDeclaration" LowerBound="113.1" HigherBound="115.1">
                <om:Property Name="PortModifier" Value="Uses" />
                <om:Property Name="Orientation" Value="Right" />
                <om:Property Name="PortIndex" Value="145" />
                <om:Property Name="IsWebPort" Value="False" />
                <om:Property Name="OrderedDelivery" Value="False" />
                <om:Property Name="DeliveryNotification" Value="None" />
                <om:Property Name="Type" Value="BTNextGen.BizTalk.OrganizationProfiles.Orchestration.GetUsersSqlSendPortType" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="GetUsersSqlSendPort" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="DirectBindingAttribute" OID="59e8d2ff-32d0-4fc2-8726-036cf418cfae" ParentLink="PortDeclaration_CLRAttribute" LowerBound="113.1" HigherBound="114.1">
                    <om:Property Name="DirectBindingType" Value="MessageBox" />
                    <om:Property Name="Signal" Value="False" />
                </om:Element>
            </om:Element>
            <om:Element Type="PortDeclaration" OID="714063a7-c4fe-40d0-80be-363ae74f6369" ParentLink="ServiceDeclaration_PortDeclaration" LowerBound="115.1" HigherBound="117.1">
                <om:Property Name="PortModifier" Value="Uses" />
                <om:Property Name="Orientation" Value="Left" />
                <om:Property Name="PortIndex" Value="116" />
                <om:Property Name="IsWebPort" Value="False" />
                <om:Property Name="OrderedDelivery" Value="False" />
                <om:Property Name="DeliveryNotification" Value="None" />
                <om:Property Name="Type" Value="BTNextGen.BizTalk.OrganizationProfiles.Orchestration.SetErrorStatusPortType" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="SetErrorStatusPort" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="LogicalBindingAttribute" OID="a100c2c1-14e0-47a4-aefd-667862c9b2cc" ParentLink="PortDeclaration_CLRAttribute" LowerBound="115.1" HigherBound="116.1">
                    <om:Property Name="Signal" Value="False" />
                </om:Element>
            </om:Element>
            <om:Element Type="PortDeclaration" OID="dd5b460e-66cd-4914-99e6-4dd4a5b2aa35" ParentLink="ServiceDeclaration_PortDeclaration" LowerBound="117.1" HigherBound="119.1">
                <om:Property Name="PortModifier" Value="Uses" />
                <om:Property Name="Orientation" Value="Right" />
                <om:Property Name="PortIndex" Value="161" />
                <om:Property Name="IsWebPort" Value="False" />
                <om:Property Name="OrderedDelivery" Value="False" />
                <om:Property Name="DeliveryNotification" Value="None" />
                <om:Property Name="Type" Value="BTNextGen.BizTalk.OrganizationProfiles.Orchestration.GetAccountsSqlSendPortType" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="GetAccountsSqlSendPort" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="DirectBindingAttribute" OID="f98e9327-b8b4-496a-8797-1764d43d1657" ParentLink="PortDeclaration_CLRAttribute" LowerBound="117.1" HigherBound="118.1">
                    <om:Property Name="DirectBindingType" Value="MessageBox" />
                    <om:Property Name="Signal" Value="False" />
                </om:Element>
            </om:Element>
            <om:Element Type="PortDeclaration" OID="594043c0-b74d-49c7-9580-8a4e60fdafee" ParentLink="ServiceDeclaration_PortDeclaration" LowerBound="119.1" HigherBound="121.1">
                <om:Property Name="PortModifier" Value="Uses" />
                <om:Property Name="Orientation" Value="Left" />
                <om:Property Name="PortIndex" Value="62" />
                <om:Property Name="IsWebPort" Value="False" />
                <om:Property Name="OrderedDelivery" Value="False" />
                <om:Property Name="DeliveryNotification" Value="None" />
                <om:Property Name="Type" Value="BTNextGen.BizTalk.OrganizationProfiles.Orchestration.SendOrgDetailsCommercePortType" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="SendOrgDetailsCommercePort" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="LogicalBindingAttribute" OID="835f38a1-03eb-4ca0-9414-17f0eca67fdf" ParentLink="PortDeclaration_CLRAttribute" LowerBound="119.1" HigherBound="120.1">
                    <om:Property Name="Signal" Value="False" />
                </om:Element>
            </om:Element>
            <om:Element Type="PortDeclaration" OID="bdc48a7e-9c55-4bc6-96a9-7cf3c63a21ad" ParentLink="ServiceDeclaration_PortDeclaration" LowerBound="121.1" HigherBound="123.1">
                <om:Property Name="PortModifier" Value="Uses" />
                <om:Property Name="Orientation" Value="Right" />
                <om:Property Name="PortIndex" Value="132" />
                <om:Property Name="IsWebPort" Value="False" />
                <om:Property Name="OrderedDelivery" Value="False" />
                <om:Property Name="DeliveryNotification" Value="None" />
                <om:Property Name="Type" Value="BTNextGen.BizTalk.OrganizationProfiles.Orchestration.SendFaultMessagePortType" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="SendFaultMessagePort" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="DirectBindingAttribute" OID="b6440d6a-a75b-49b6-9d00-829744136d88" ParentLink="PortDeclaration_CLRAttribute" LowerBound="121.1" HigherBound="122.1">
                    <om:Property Name="DirectBindingType" Value="MessageBox" />
                    <om:Property Name="Signal" Value="False" />
                </om:Element>
            </om:Element>
            <om:Element Type="PortDeclaration" OID="55a1e5aa-52cf-4b8e-b6ef-c6637bf25d02" ParentLink="ServiceDeclaration_PortDeclaration" LowerBound="123.1" HigherBound="125.1">
                <om:Property Name="PortModifier" Value="Uses" />
                <om:Property Name="Orientation" Value="Left" />
                <om:Property Name="PortIndex" Value="43" />
                <om:Property Name="IsWebPort" Value="False" />
                <om:Property Name="OrderedDelivery" Value="False" />
                <om:Property Name="DeliveryNotification" Value="None" />
                <om:Property Name="Type" Value="BTNextGen.BizTalk.OrganizationProfiles.Orchestration.AddressCSPortType" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="AddressCSPort" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="LogicalBindingAttribute" OID="0dce6872-3d7d-4285-a6e3-7050a5356c00" ParentLink="PortDeclaration_CLRAttribute" LowerBound="123.1" HigherBound="124.1">
                    <om:Property Name="Signal" Value="False" />
                </om:Element>
            </om:Element>
            <om:Element Type="PortDeclaration" OID="b62ae47e-e5ed-4e94-b133-5044b5ec589c" ParentLink="ServiceDeclaration_PortDeclaration" LowerBound="125.1" HigherBound="127.1">
                <om:Property Name="PortModifier" Value="Uses" />
                <om:Property Name="Orientation" Value="Right" />
                <om:Property Name="PortIndex" Value="24" />
                <om:Property Name="IsWebPort" Value="False" />
                <om:Property Name="OrderedDelivery" Value="False" />
                <om:Property Name="DeliveryNotification" Value="None" />
                <om:Property Name="Type" Value="BTNextGen.BizTalk.Profiles.Orchestration.IIProfile" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="IProfileWCFPort" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="LogicalBindingAttribute" OID="1b75603f-66cb-4253-904c-b21b5f13f5ae" ParentLink="PortDeclaration_CLRAttribute" LowerBound="125.1" HigherBound="126.1">
                    <om:Property Name="Signal" Value="False" />
                </om:Element>
            </om:Element>
            <om:Element Type="PortDeclaration" OID="696d2126-ecfc-4e2b-a312-f7fdf35f98c0" ParentLink="ServiceDeclaration_PortDeclaration" LowerBound="127.1" HigherBound="129.1">
                <om:Property Name="PortModifier" Value="Uses" />
                <om:Property Name="Orientation" Value="Left" />
                <om:Property Name="PortIndex" Value="49" />
                <om:Property Name="IsWebPort" Value="False" />
                <om:Property Name="OrderedDelivery" Value="False" />
                <om:Property Name="DeliveryNotification" Value="None" />
                <om:Property Name="Type" Value="BTNextGen.BizTalk.OrganizationProfiles.Orchestration.archiveWCFReqPortType" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="archiveWCFReqPort" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="LogicalBindingAttribute" OID="dae8047f-97f0-43c7-bca0-ee156dbc9d42" ParentLink="PortDeclaration_CLRAttribute" LowerBound="127.1" HigherBound="128.1">
                    <om:Property Name="Signal" Value="False" />
                </om:Element>
            </om:Element>
            <om:Element Type="PortDeclaration" OID="968b46f6-2da6-40e3-ab69-25df57bf81cf" ParentLink="ServiceDeclaration_PortDeclaration" LowerBound="129.1" HigherBound="131.1">
                <om:Property Name="PortModifier" Value="Uses" />
                <om:Property Name="Orientation" Value="Right" />
                <om:Property Name="PortIndex" Value="49" />
                <om:Property Name="IsWebPort" Value="False" />
                <om:Property Name="OrderedDelivery" Value="False" />
                <om:Property Name="DeliveryNotification" Value="None" />
                <om:Property Name="Type" Value="BTNextGen.BizTalk.OrganizationProfiles.Orchestration.archiveWCFResponsePortType" />
                <om:Property Name="ParamDirection" Value="In" />
                <om:Property Name="ReportToAnalyst" Value="True" />
                <om:Property Name="Name" Value="archiveWCFResponsePort" />
                <om:Property Name="Signal" Value="False" />
                <om:Element Type="LogicalBindingAttribute" OID="53ed9a96-d3bd-4ec9-94cd-98725cd48166" ParentLink="PortDeclaration_CLRAttribute" LowerBound="129.1" HigherBound="130.1">
                    <om:Property Name="Signal" Value="False" />
                </om:Element>
            </om:Element>
        </om:Element>
    </om:Element>
</om:MetaModel>
#endif // __DESIGNER_DATA
[Microsoft.XLANGs.BaseTypes.BPELExportable(false)]
module BTNextGen.BizTalk.OrganizationProfiles.Orchestration
{
    internal porttype ReceiveOrgDetailsPortType
    {
        oneway Operation_1
        {
            BTNextGen.BizTalk.Profiles.Schemas.ProcedureResultSet_dbo_procGetOrganization.StoredProcedureResultSet0
        };
    };
    internal porttype archiveOrgProfilesInPortType
    {
        oneway archiveIn
        {
            BTNextGen.BizTalk.Profiles.Schemas.ProcedureResultSet_dbo_procGetOrganization.StoredProcedureResultSet0
        };
    };
    internal porttype archiveOutPortType
    {
        oneway Operation_1
        {
            BTNextGen.BizTalk.CS.Profiles.Schemas.BTProfile
        };
    };
    internal porttype SendOrgDetailsCommercePortType
    {
        requestresponse Operation_1
        {
            BTNextGen.BizTalk.CS.Profiles.Schemas.BTProfile, BTNextGen.BizTalk.CS.Profiles.Schemas.ProfilesImportResponse
        };
    };
    internal porttype archiveResponsePortType
    {
        oneway archiveResp
        {
            BTNextGen.BizTalk.CS.Profiles.Schemas.ProfilesImportResponse
        };
    };
    internal porttype SetErrorStatusPortType
    {
        oneway UpdateSql
        {
            BTNextGen.BizTalk.Profiles.Schemas.SetOrgResponseSqlProcedure.procSetOrganizationError
        };
    };
    internal porttype SubmitUsersNotificationPortType
    {
        oneway submitMsgBox
        {
            BTNextGen.BizTalk.Profiles.Schemas.GetReviewTypeFromLegacy.procGetBTUserReviewType
        };
    };
    internal porttype SendFaultMessagePortType
    {
        oneway Operation_1
        {
            Microsoft.Practices.ESB.ExceptionHandling.Schemas.Faults.FaultMessage
        };
    };
    internal porttype GetUsersSqlSendPortType
    {
        oneway InvokeUserOrchestration
        {
            BTNextGen.BizTalk.Profiles.Schemas.GetUserProfilesFromLegacy.procGetUser
        };
    };
    internal porttype GetAccountsSqlSendPortType
    {
        oneway InvokeAccountsOrchestration
        {
            BTNextGen.BizTalk.Profiles.Schemas.GetAccountProfileDetailsFromLegacy.procGetBTAccount
        };
    };
    internal porttype GetReviewSqlSendPortType
    {
        oneway Operation_1
        {
            BTNextGen.BizTalk.Profiles.Schemas.GetReviewTypeFromLegacy.procGetBTUserReviewType
        };
    };
    internal porttype AddressCSPortType
    {
        requestresponse Operation_1
        {
            BTNextGen.BizTalk.CS.Profiles.Schemas.BTProfile, BTNextGen.BizTalk.CS.Profiles.Schemas.ProfilesImportResponse
        };
    };
    internal porttype archiveWCFReqPortType
    {
        oneway Operation_1
        {
            BTNextGen.BizTalk.Profiles.Orchestration.IIProfile_RemoveAssociatedAccounts_InputMessage
        };
    };
    internal porttype archiveWCFResponsePortType
    {
        oneway Operation_1
        {
            BTNextGen.BizTalk.Profiles.Orchestration.IIProfile_RemoveAssociatedAccounts_OutputMessage
        };
    };
    [Microsoft.XLANGs.BaseTypes.BPELExportable(false)]
    internal service longrunning transaction ImportOrganizationProfiles
    {
        [Microsoft.XLANGs.BaseTypes.DirectBinding()]
        port implements ReceiveOrgDetailsPortType ReceiveOrgDetailsPort;
        [Microsoft.XLANGs.BaseTypes.LogicalBinding()]
        port uses archiveOrgProfilesInPortType archiveOrgProfilesInPort;
        [Microsoft.XLANGs.BaseTypes.LogicalBinding()]
        port uses archiveOutPortType archiveOutPort;
        [Microsoft.XLANGs.BaseTypes.LogicalBinding()]
        port uses archiveResponsePortType archiveResponsePort;
        [Microsoft.XLANGs.BaseTypes.DirectBinding()]
        port uses GetUsersSqlSendPortType GetUsersSqlSendPort;
        [Microsoft.XLANGs.BaseTypes.LogicalBinding()]
        port uses SetErrorStatusPortType SetErrorStatusPort;
        [Microsoft.XLANGs.BaseTypes.DirectBinding()]
        port uses GetAccountsSqlSendPortType GetAccountsSqlSendPort;
        [Microsoft.XLANGs.BaseTypes.LogicalBinding()]
        port uses SendOrgDetailsCommercePortType SendOrgDetailsCommercePort;
        [Microsoft.XLANGs.BaseTypes.DirectBinding()]
        port uses SendFaultMessagePortType SendFaultMessagePort;
        [Microsoft.XLANGs.BaseTypes.LogicalBinding()]
        port uses AddressCSPortType AddressCSPort;
        [Microsoft.XLANGs.BaseTypes.LogicalBinding()]
        port uses BTNextGen.BizTalk.Profiles.Orchestration.IIProfile IProfileWCFPort;
        [Microsoft.XLANGs.BaseTypes.LogicalBinding()]
        port uses archiveWCFReqPortType archiveWCFReqPort;
        [Microsoft.XLANGs.BaseTypes.LogicalBinding()]
        port uses archiveWCFResponsePortType archiveWCFResponsePort;
        message BTNextGen.BizTalk.Profiles.Orchestration.IIProfile_RemoveAssociatedAccounts_OutputMessage archiveWcfResponse;
        message BTNextGen.BizTalk.Profiles.Orchestration.IIProfile_RemoveAssociatedAccounts_InputMessage archiveWcfReq;
        message BTNextGen.BizTalk.Profiles.Schemas.ProcedureResultSet_dbo_procGetOrganization.StoredProcedureResultSet0 orgProfilesUpdatedLegacy;
        message BTNextGen.BizTalk.CS.Profiles.Schemas.ProfilesImportResponse addressCSResponse;
        message BTNextGen.BizTalk.CS.Profiles.Schemas.BTProfile AddressCS;
        message BTNextGen.BizTalk.CS.Profiles.Schemas.ProfilesImportResponse subscriptionCSResponse;
        message BTNextGen.BizTalk.CS.Profiles.Schemas.BTProfile subscriptionProfileCS;
        message BTNextGen.BizTalk.Profiles.Schemas.GetUserProfilesFromLegacy.procGetUser usersProfileRequest;
        message BTNextGen.BizTalk.Profiles.Schemas.GetAccountProfileDetailsFromLegacy.procGetBTAccount accountsProfileRequest;
        message BTNextGen.BizTalk.Profiles.Schemas.GetReviewTypeFromLegacy.procGetBTUserReviewType reviewTypesRequest;
        message BTNextGen.BizTalk.CS.Profiles.Schemas.ProfilesImportResponse archiveResponse;
        message BTNextGen.BizTalk.CS.Profiles.Schemas.BTProfile archiveOut;
        message BTNextGen.BizTalk.Profiles.Schemas.ProcedureResultSet_dbo_procGetOrganization.StoredProcedureResultSet0 archiveIn;
        message BTNextGen.BizTalk.Profiles.Schemas.ProcedureResultSet_dbo_procGetOrganization.StoredProcedureResultSet0 OrgDetailsLegacy;
        message BTNextGen.BizTalk.CS.Profiles.Schemas.BTProfile orgProfilesCommerce;
        message BTNextGen.BizTalk.CS.Profiles.Schemas.ProfilesImportResponse orgProfilesResponse;
        message BTNextGen.BizTalk.Profiles.Schemas.SetOrgResponseSqlProcedure.procSetOrganizationError updateLegacyResponse;
        message Microsoft.Practices.ESB.ExceptionHandling.Schemas.Faults.FaultMessage faultMessage;
        message BTNextGen.BizTalk.Profiles.Orchestration.IIProfile_RemoveAssociatedAccounts_InputMessage removeAssociatedAcctsWCF_In;
        message BTNextGen.BizTalk.Profiles.Orchestration.IIProfile_RemoveAssociatedAccounts_OutputMessage removeAssociatedAcctsWCF_Out;
        System.String faultErrorDesc;
        System.Xml.XmlDocument xDoc;
        System.Xml.XmlDocument xmlDocwcfReq;
        System.Boolean isFailed;
        System.Text.StringBuilder strCompleteErrorResponse;
        System.Xml.XmlDocument xmlDocAccounts;
        System.Xml.XmlDocument xmlDocUsers;
        System.Xml.XmlDocument userReviewNotifyXml;
        System.Xml.XmlDocument usersNotifyXml;
        System.Xml.XmlDocument accountNotifyXml;
        System.Xml.XmlDocument xmldoc;
        System.String strResponseText;
        System.Int32 legacyOrgID;
        System.Int32 intInvalidResponseCount;
        System.String legacySource;
        System.String legacyOrgGuid;
        System.Boolean isOrgArchive;
        System.Boolean isSubscriptionArchive;
        System.Boolean isProdLookupArchive;
        System.Boolean isCommException;
        System.Xml.XmlDocument xmlDocReview;
        System.Boolean isAddressArchive;
        System.Int32 i_accounts_cnt;
        body ()
        {
            [Microsoft.XLANGs.BaseTypes.DesignerPosition("2894ebb6-38d1-4cbf-9aa9-7c5d470c72c4")]
            activate ((BTS.MessageType == "http://schemas.microsoft.com/Sql/2008/05/ProceduresResultSets/dbo/procGetOrganization#StoredProcedureResultSet0") && (BTS.Operation == "InvokeImport"))receive (ReceiveOrgDetailsPort.Operation_1, OrgDetailsLegacy);
            faultErrorDesc = "";
            xDoc = new System.Xml.XmlDocument();
            xmlDocwcfReq = new System.Xml.XmlDocument();
            isFailed = false;
            strCompleteErrorResponse = new System.Text.StringBuilder();
            xmlDocAccounts = new System.Xml.XmlDocument();
            xmlDocUsers = new System.Xml.XmlDocument();
            userReviewNotifyXml = new System.Xml.XmlDocument();
            usersNotifyXml = new System.Xml.XmlDocument();
            accountNotifyXml = new System.Xml.XmlDocument();
            xmldoc = new System.Xml.XmlDocument();
            strResponseText = "";
            legacyOrgID = 0;
            legacySource = "";
            legacyOrgGuid = "";
            isOrgArchive = true;
            isSubscriptionArchive = true;
            isProdLookupArchive = true;
            isCommException = true;
            xmlDocReview = new System.Xml.XmlDocument();
            isAddressArchive = true;
            i_accounts_cnt = 0;
            [Microsoft.XLANGs.BaseTypes.DesignerPosition("cd46a49c-9e16-437e-bc4f-0fcc741dc054")]
            scope longrunning transaction Transaction_Address
            {
                body
                {
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("78689fdb-900a-4a3d-8d3d-421f2fc68bbd")]
                    legacySource=OrgDetailsLegacy.Legacy_source_system;
                    legacyOrgID=OrgDetailsLegacy.Legacy_org_id;
                    legacyOrgGuid=OrgDetailsLegacy.CSOrgGUID;
                    
                    i_accounts_cnt = System.Convert.ToInt32(xpath(OrgDetailsLegacy, "count(/*[local-name()='StoredProcedureResultSet0' and namespace-uri()='http://schemas.microsoft.com/Sql/2008/05/ProceduresResultSets/dbo/procGetOrganization']/*[local-name()='u_accounts' and namespace-uri()='http://schemas.microsoft.com/Sql/2008/05/ProceduresResultSets/dbo/procGetOrganization'])"));
                    
                    
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("eeeaa269-8a63-4fbc-81be-73d90e7b2952")]
                    isAddressArchive=System.Convert.ToBoolean(SSO.Utility.SSOClientHelper.Read("BTNextGen.BizTalk.Profiles","AddressArchive"));
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("5bdcb166-d7c1-4035-892a-220346e65e3f")]
                    if (isAddressArchive)
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("6272f7a7-bf8b-45a8-8fd7-949d202c5579")]
                        construct archiveIn
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("a3f5f2d9-a8f1-4dfd-a342-4fdb7ce48a88")]
                            archiveIn=OrgDetailsLegacy;
                            archiveIn(FILE.ReceivedFileName)="OrgProfilesFromLegacy_"+legacyOrgID.ToString();
                        }
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("34017693-641b-45b4-8202-fc98cbdf823b")]
                        send (archiveOrgProfilesInPort.archiveIn, archiveIn);
                    }
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("34d34957-96c7-40d9-9fa9-95d2464d9fca")]
                    construct AddressCS
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("00b5e2bf-7dd9-421b-99d6-8db9d0cb7756")]
                        transform (AddressCS) = BTNextGen.BizTalk.Profiles.Maps.OrgLegacy_To_AddressCS (OrgDetailsLegacy);
                    }
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("14238c02-c38f-40fa-ad1f-3269cba4c149")]
                    if (isAddressArchive)
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("74268468-9f2e-4a98-a4f6-13e97c814fcf")]
                        construct archiveOut
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("ce8d7275-c805-4dc9-91fe-782d0c371984")]
                            archiveOut=AddressCS;
                            archiveOut(FILE.ReceivedFileName)="AddressProfilesToCS_"+legacyOrgID.ToString();
                        }
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("80e21dff-1af1-4283-ab6a-517fe4e96d93")]
                        send (archiveOutPort.Operation_1, archiveOut);
                    }
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("214932c5-b949-4818-b02c-63cc45c5e7bc")]
                    send (AddressCSPort.Operation_1, AddressCS);
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("4d723d12-e926-4b6d-aa25-b82ba2f4559e")]
                    receive (AddressCSPort.Operation_1, addressCSResponse);
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("c44f21c6-9965-45c7-b7a8-a1efde5049ab")]
                    if (isAddressArchive)
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("d58a9bce-ec73-4a1a-bbd1-11be31f89cee")]
                        construct archiveResponse
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("010a266d-043e-4f19-9e86-4c15ce9a3295")]
                            archiveResponse= addressCSResponse;
                            archiveResponse(FILE.ReceivedFileName)="AddressResponseCS_"+legacyOrgID.ToString();
                        }
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("1588b4f4-3717-4cd0-84e0-d19d7940c110")]
                        send (archiveResponsePort.archiveResp, archiveResponse);
                    }
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("528366e3-ca19-4046-aa83-3a3a63b531cc")]
                    intInvalidResponseCount=System.Convert.ToInt32(xpath(addressCSResponse,"count(/*[local-name()='CommerceServerProfilesImportResponse' and namespace-uri()='']/*[local-name()='InvalidProfileImportMessage' and namespace-uri()=''])"));
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("e2f62677-9b45-4f45-9cd7-8c8a7f62edca")]
                    if (intInvalidResponseCount > 0)
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("5569ec1e-2449-48ad-ba41-9a8ca3bbf00e")]
                        strResponseText=xpath(addressCSResponse,"string(/*[local-name()='CommerceServerProfilesImportResponse' and namespace-uri()='']/*[local-name()='InvalidProfileImportMessage' and namespace-uri()=''])");
                        strResponseText= "ADDRESS : "+strResponseText;
                        strCompleteErrorResponse.AppendLine(strResponseText);
                        isFailed= true;
                        
                        
                    }
                }
                exceptions
                {
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("908adb5e-e9ff-414e-b957-743848114ce7")]
                    catch (System.Exception addressEx)
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("6ff67735-9d39-4e25-9057-54a1df053b0b")]
                        construct faultMessage
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("4f3d05ee-0105-4a47-943b-555e5355613a")]
                            // Create fault exception Message
                            faultMessage= Microsoft.Practices.ESB.ExceptionHandling.ExceptionMgmt.CreateFaultMessage();
                            
                            // Assign Properties
                            
                            faultMessage.FailureCategory="Commerce Server Exception";
                            faultMessage.FaultDescription=addressEx.Message;
                            faultMessage.FaultCode="1003";
                            faultMessage.FaultSeverity= Microsoft.Practices.ESB.ExceptionHandling.FaultSeverity.Severe;
                            Microsoft.Practices.ESB.ExceptionHandling.ExceptionMgmt.AddMessage(faultMessage,OrgDetailsLegacy);
                        }
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("ba2cacf1-dba3-4645-9898-97d92b57d620")]
                        send (SendFaultMessagePort.Operation_1, faultMessage);
                    }
                }
            }
            [Microsoft.XLANGs.BaseTypes.DesignerPosition("5cc34d8f-c3f9-4c54-ba51-318048f10569")]
            scope longrunning transaction Transaction_1
            {
                body
                {
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("08bb53d7-2625-4249-a183-63360f4d6f38")]
                    isSubscriptionArchive=System.Convert.ToBoolean(SSO.Utility.SSOClientHelper.Read("BTNextGen.BizTalk.Profiles","SubscriptionArchive"));
                    isOrgArchive=System.Convert.ToBoolean(SSO.Utility.SSOClientHelper.Read("BTNextGen.BizTalk.Profiles","OrgArchive"));
                    isProdLookupArchive=System.Convert.ToBoolean(SSO.Utility.SSOClientHelper.Read("BTNextGen.BizTalk.Profiles","ProdLookUpArchive"));
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("9acfdd57-8f93-43af-af10-617f6439837d")]
                    if (i_accounts_cnt > 0)
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("852d73bc-8acb-433f-81e1-67aa60d15b21")]
                        construct removeAssociatedAcctsWCF_In
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("6c1aba8f-212c-4408-b74a-212a3de83c5a")]
                            xmlDocwcfReq.LoadXml("<ns0:RemoveAssociatedAccounts xmlns:ns0=\"http://tempuri.org/\"><ns0:accounList>accounList_0</ns0:accounList><ns0:orgID>orgID_0</ns0:orgID></ns0:RemoveAssociatedAccounts>");
                            removeAssociatedAcctsWCF_In.parameters= xmlDocwcfReq;
                            removeAssociatedAcctsWCF_In.parameters.accounList= OrgDetailsLegacy.u_accounts;
                            removeAssociatedAcctsWCF_In.parameters.orgID= legacyOrgGuid;
                        }
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("48e409a0-bf1d-465a-b816-2afd0c71d489")]
                        if (isOrgArchive)
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("6479c5e5-0694-4c45-a6d5-f5b3b72c2054")]
                            construct archiveWcfReq
                            {
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("446e948b-5953-427d-a820-1a7ba2d1570b")]
                                archiveWcfReq=removeAssociatedAcctsWCF_In;
                                archiveWcfReq(FILE.ReceivedFileName)="RemoveAssociatedWCFRequest_"+legacyOrgID.ToString();
                            }
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("7bed96da-1cb2-48e8-8242-aa150c3b7894")]
                            send (archiveWCFReqPort.Operation_1, archiveWcfReq);
                        }
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("4bbbdbee-723e-4a48-93e0-1aa3b27ec52b")]
                        send (IProfileWCFPort.RemoveAssociatedAccounts, removeAssociatedAcctsWCF_In);
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("d25fd9a6-5456-4469-86fd-c4fc28622d7a")]
                        receive (IProfileWCFPort.RemoveAssociatedAccounts, removeAssociatedAcctsWCF_Out);
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("22470c43-d386-405f-b2b7-e3f7fcda99cc")]
                        if (isOrgArchive)
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("0fadbd02-153b-44be-acf9-a5de44afc8ba")]
                            construct archiveWcfResponse
                            {
                                [Microsoft.XLANGs.BaseTypes.DesignerPosition("c41f68f4-6dcc-41b3-b657-5295d4d8ced3")]
                                archiveWcfResponse=removeAssociatedAcctsWCF_Out;
                                archiveWcfResponse(FILE.ReceivedFileName)="RemoveAssociatedWCFResponse_"+legacyOrgID.ToString();
                            }
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("032a28a0-9c89-4e3f-b188-f702213dd9dd")]
                            send (archiveWCFResponsePort.Operation_1, archiveWcfResponse);
                        }
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("9a025708-7935-46c3-97c8-b1a460e529e6")]
                        construct orgProfilesUpdatedLegacy
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("d83b488e-e909-4032-9914-5113e82b9174")]
                            orgProfilesUpdatedLegacy= OrgDetailsLegacy;
                            orgProfilesUpdatedLegacy.u_accounts= removeAssociatedAcctsWCF_Out.parameters.RemoveAssociatedAccountsResult.accountList;
                            orgProfilesUpdatedLegacy.i_account_count= removeAssociatedAcctsWCF_Out.parameters.RemoveAssociatedAccountsResult.accountCount;
                            
                        }
                    }
                    else 
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("c399cd45-e719-440c-91ca-f924c40adaed")]
                        construct orgProfilesUpdatedLegacy
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("710cd1f1-bc17-48cc-9ad6-fb3cf8233c79")]
                            // if no accounts exists, just make a copy of the incoming message so that same map can be used after the branch
                            
                            orgProfilesUpdatedLegacy= OrgDetailsLegacy;
                        }
                    }
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("76781abb-4290-4ddc-9be6-9ded3f5f5350")]
                    construct orgProfilesCommerce
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("b0d8f967-c28e-4170-a834-6ab80b409d47")]
                        transform (orgProfilesCommerce) = BTNextGen.BizTalk.Profiles.Maps.OrgProfilesLegacy_To_OrgProfilesCommerce (orgProfilesUpdatedLegacy);
                    }
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("6e55db09-3691-4107-aa68-36be99b32aab")]
                    if (isOrgArchive)
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("0f90aaae-8b1b-4b9a-a3ea-07c06be89fab")]
                        construct archiveOut
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("82a64773-c5aa-486e-8bc7-2c4a4f369aee")]
                            archiveOut=orgProfilesCommerce;
                            archiveOut(FILE.ReceivedFileName)="OrgProfilesToCS_"+legacyOrgID.ToString();
                        }
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("89bde6dd-b92f-472f-8e50-05b6de708299")]
                        send (archiveOutPort.Operation_1, archiveOut);
                    }
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("a8558c1b-9380-48f4-be86-d23ed14d66e8")]
                    send (SendOrgDetailsCommercePort.Operation_1, orgProfilesCommerce);
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("45834266-a2c1-45a1-81a6-a7a8800e9113")]
                    receive (SendOrgDetailsCommercePort.Operation_1, orgProfilesResponse);
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("cc1d27e8-a1f1-444a-97fd-10e0af9f9583")]
                    if (isOrgArchive)
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("f1a72ee2-a96a-46e2-a431-433572434327")]
                        construct archiveResponse
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("1b0df716-5249-4590-934c-ec24b92b8960")]
                            archiveResponse= orgProfilesResponse;
                            archiveResponse(FILE.ReceivedFileName)="OrgResponseCS_"+legacyOrgID.ToString();
                        }
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("47a222e8-4cce-4451-a723-43bd54483256")]
                        send (archiveResponsePort.archiveResp, archiveResponse);
                    }
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("65f02465-2778-45bc-8011-907449b9e884")]
                    intInvalidResponseCount=0;
                    intInvalidResponseCount=System.Convert.ToInt32(xpath(orgProfilesResponse,"count(/*[local-name()='CommerceServerProfilesImportResponse' and namespace-uri()='']/*[local-name()='InvalidProfileImportMessage' and namespace-uri()=''])"));
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("99928dde-329f-4f48-b1b8-88778c177728")]
                    if (intInvalidResponseCount > 0)
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("b446dfce-8594-4673-8267-1bbd6ff6b069")]
                        strResponseText=System.String.Empty;
                        strResponseText=xpath(orgProfilesResponse,"string(/*[local-name()='CommerceServerProfilesImportResponse' and namespace-uri()='']/*[local-name()='InvalidProfileImportMessage' and namespace-uri()=''])");
                        strResponseText= "ORG : " +strResponseText;
                        strCompleteErrorResponse.AppendLine(strResponseText);
                        isFailed= true;
                        
                    }
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("1d96e032-6f7f-4c54-a27b-74e6204f97e2")]
                    if (isSubscriptionArchive)
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("00f7b20f-145e-4719-b10c-d78d0c2374eb")]
                        construct archiveOut
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("5e930773-ad46-4bda-ac6c-02f4730bd0b8")]
                            archiveOut=orgProfilesCommerce;
                            archiveOut(FILE.ReceivedFileName)="SubscriptionProfilesToCommerceServer_"+legacyOrgID.ToString();
                        }
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("6c0cee3b-e31a-41fe-b6a0-a555e0d318bc")]
                        send (archiveOutPort.Operation_1, archiveOut);
                    }
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("74fbddee-7012-4d09-9f8d-0373a0fc749c")]
                    if (isFailed)
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("e6be85ac-3b40-4dc1-9c30-e2df67a4f3f1")]
                        construct updateLegacyResponse
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("2a415db2-7a81-4112-9789-0971689bba3d")]
                            xmldoc.LoadXml("<ns0:procSetOrganizationError xmlns:ns0=\"http://schemas.microsoft.com/Sql/2008/05/TypedProcedures/dbo\"><ns0:pintOrganizationID>10</ns0:pintOrganizationID><ns0:pstrLegacySourceSystem>pstrL</ns0:pstrLegacySourceSystem><ns0:pstrLoadStatus>pstrLoadStatuspstrLo</ns0:pstrLoadStatus><ns0:pstrLoadError>pstrLoadError_0</ns0:pstrLoadError></ns0:procSetOrganizationError>");
                            
                            updateLegacyResponse=xmldoc;
                            updateLegacyResponse.pstrLoadError=strCompleteErrorResponse.ToString();
                            updateLegacyResponse.pstrLoadStatus="CS Failed";
                            updateLegacyResponse.pintOrganizationID=legacyOrgID;
                            updateLegacyResponse.pstrLegacySourceSystem=legacySource;
                        }
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("b462332a-8a16-408b-bf69-26ee7209a707")]
                        send (SetErrorStatusPort.UpdateSql, updateLegacyResponse);
                    }
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("d2f73212-aca3-4167-adfe-a3ac94287b0d")]
                    construct subscriptionProfileCS
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("c95bf8ab-76c9-4f96-87d1-9c12f92dc291")]
                        transform (subscriptionProfileCS) = BTNextGen.BizTalk.Profiles.Maps.SubscriptionLegacy_To_SubscriptionCommerceServer (OrgDetailsLegacy);
                    }
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("a3768f96-0212-46c6-a21d-ac2963fd06de")]
                    send (SendOrgDetailsCommercePort.Operation_1, subscriptionProfileCS);
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("a83716a3-f251-4176-b511-6a20386a267b")]
                    receive (SendOrgDetailsCommercePort.Operation_1, subscriptionCSResponse);
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("cc2e64ce-700e-41fd-a2b7-81676af85caf")]
                    intInvalidResponseCount=System.Convert.ToInt32(xpath(subscriptionCSResponse,"count(/*[local-name()='CommerceServerProfilesImportResponse' and namespace-uri()='']/*[local-name()='InvalidProfileImportMessage' and namespace-uri()=''])"));
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("cbac7ce2-a044-41d1-83b1-97ba6a3240dc")]
                    if (intInvalidResponseCount > 0)
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("14026b0d-c748-4b5f-92e8-f78175c85106")]
                        strResponseText=xpath(subscriptionCSResponse,"string(/*[local-name()='CommerceServerProfilesImportResponse' and namespace-uri()='']/*[local-name()='InvalidProfileImportMessage' and namespace-uri()=''])");
                        
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("2eef4a10-3bdb-434e-aaa5-0dc9197379bd")]
                        construct updateLegacyResponse
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("dd940c3b-d17f-4b86-b59e-2bd90234d594")]
                            xmldoc.LoadXml("<ns0:procSetOrganizationError xmlns:ns0=\"http://schemas.microsoft.com/Sql/2008/05/TypedProcedures/dbo\"><ns0:pintOrganizationID>10</ns0:pintOrganizationID><ns0:pstrLegacySourceSystem>pstrL</ns0:pstrLegacySourceSystem><ns0:pstrLoadStatus>pstrLoadStatuspstrLo</ns0:pstrLoadStatus><ns0:pstrLoadError>pstrLoadError_0</ns0:pstrLoadError></ns0:procSetOrganizationError>");
                            
                            updateLegacyResponse=xmldoc;
                            updateLegacyResponse.pstrLoadError=strResponseText;
                            updateLegacyResponse.pstrLoadStatus="CS Partial Failed";
                            updateLegacyResponse.pintOrganizationID=legacyOrgID;
                            updateLegacyResponse.pstrLegacySourceSystem=legacySource;
                        }
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("06c59e93-9e1c-4164-9afb-9dec12d877f4")]
                        send (SetErrorStatusPort.UpdateSql, updateLegacyResponse);
                    }
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("ac0d97d1-e8f9-4281-a9e6-0579acb1b374")]
                    construct usersProfileRequest
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("0a5ca374-5083-40be-9bc9-c240259bb415")]
                        xmlDocUsers.LoadXml("<ns0:procGetUser xmlns:ns0=\"http://schemas.microsoft.com/Sql/2008/05/TypedProcedures/dbo\"><ns0:pintOrganizationID></ns0:pintOrganizationID><ns0:SourceSystem></ns0:SourceSystem></ns0:procGetUser>");
                        usersProfileRequest=xmlDocUsers;
                        usersProfileRequest.pintOrganizationID=legacyOrgID;
                        usersProfileRequest.SourceSystem= legacySource;
                    }
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("a7c8f2a7-06f0-44d5-96e9-6a3053db72ee")]
                    send (GetUsersSqlSendPort.InvokeUserOrchestration, usersProfileRequest);
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("54dcf341-e684-46a7-9435-70c4436409b4")]
                    construct accountsProfileRequest
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("7d0baf29-1fe3-4dde-b2df-a17eb8af0ac5")]
                        xmlDocAccounts.LoadXml("<ns0:procGetBTAccount xmlns:ns0=\"http://schemas.microsoft.com/Sql/2008/05/TypedProcedures/dbo\"><ns0:pintOrganizationID></ns0:pintOrganizationID><ns0:pstrLegacySourceSystem></ns0:pstrLegacySourceSystem></ns0:procGetBTAccount>");
                        accountsProfileRequest=xmlDocAccounts;
                        accountsProfileRequest.pintOrganizationID=legacyOrgID;
                        accountsProfileRequest.pstrLegacySourceSystem= legacySource;
                    }
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("d5d32546-cb64-49bf-9578-7f3bfd1f81de")]
                    send (GetAccountsSqlSendPort.InvokeAccountsOrchestration, accountsProfileRequest);
                }
                exceptions
                {
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("0dcbcbeb-178f-4d9d-a1cf-402ebc8ae05d")]
                    catch (System.Exception ex)
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("d6e9c4f5-baf4-4d59-b264-9617e35df9a8")]
                        construct updateLegacyResponse
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("b087aa0c-9521-4c1e-a611-1f4c349238f7")]
                            xmldoc.LoadXml("<ns0:procSetOrganizationError xmlns:ns0=\"http://schemas.microsoft.com/Sql/2008/05/TypedProcedures/dbo\"><ns0:pintOrganizationID>10</ns0:pintOrganizationID><ns0:pstrLegacySourceSystem>pstrL</ns0:pstrLegacySourceSystem><ns0:pstrLoadStatus>pstrLoadStatuspstrLo</ns0:pstrLoadStatus><ns0:pstrLoadError>pstrLoadError_0</ns0:pstrLoadError></ns0:procSetOrganizationError>");
                            
                            updateLegacyResponse=xmldoc;
                            updateLegacyResponse.pstrLoadError=ex.Message.ToString();
                            updateLegacyResponse.pstrLoadStatus="CS Failed";
                            updateLegacyResponse.pintOrganizationID=legacyOrgID;
                            updateLegacyResponse.pstrLegacySourceSystem=legacySource;
                        }
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("fbba3443-820c-49fe-9231-4409f69d0249")]
                        send (SetErrorStatusPort.UpdateSql, updateLegacyResponse);
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("63d74eef-0cc5-4863-ac4b-bd19e04b566a")]
                        construct faultMessage
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("0f0895a2-c302-4d72-b709-6b4f33462f91")]
                            // Create fault exception Message
                            faultMessage= Microsoft.Practices.ESB.ExceptionHandling.ExceptionMgmt.CreateFaultMessage();
                            
                            // Assign Properties
                            
                            faultMessage.FailureCategory="Commerce Server Exception";
                            faultMessage.FaultDescription=ex.Message;
                            faultMessage.FaultCode="1002";
                            faultMessage.FaultSeverity= Microsoft.Practices.ESB.ExceptionHandling.FaultSeverity.Severe;
                            Microsoft.Practices.ESB.ExceptionHandling.ExceptionMgmt.AddMessage(faultMessage,OrgDetailsLegacy);
                        }
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("9273c69b-8c12-46b3-98a2-4ce35877a17d")]
                        suspend "Error in ImportOrganizations Orchestration. The exception is :  " + ex.Message;
                    }
                    [Microsoft.XLANGs.BaseTypes.DesignerPosition("b3215bdc-878b-4d9c-86a5-858cce7bc676")]
                    catch (IProfileWCFPort.RemoveAssociatedAccounts.faultRemoveAssociated wcfFaultException)
                    {
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("37763373-45f9-42dd-9197-e8c495206222")]
                        xDoc= wcfFaultException.faultMsgBody;
                        faultErrorDesc= xDoc.OuterXml;
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("31e71346-2b5b-482b-8ece-63a6afaf5169")]
                        construct updateLegacyResponse
                        {
                            [Microsoft.XLANGs.BaseTypes.DesignerPosition("fb71f732-df8a-4a68-baaf-67372e3fd9cd")]
                            xmldoc.LoadXml("<ns0:procSetOrganizationError xmlns:ns0=\"http://schemas.microsoft.com/Sql/2008/05/TypedProcedures/dbo\"><ns0:pintOrganizationID>10</ns0:pintOrganizationID><ns0:pstrLegacySourceSystem>pstrL</ns0:pstrLegacySourceSystem><ns0:pstrLoadStatus>pstrLoadStatuspstrLo</ns0:pstrLoadStatus><ns0:pstrLoadError>pstrLoadError_0</ns0:pstrLoadError></ns0:procSetOrganizationError>");
                            
                            updateLegacyResponse=xmldoc;
                            updateLegacyResponse.pstrLoadError="IProfile service Exception in RemoveAssociatedAccounts "+faultErrorDesc;
                            updateLegacyResponse.pstrLoadStatus="CS Failed";
                            updateLegacyResponse.pintOrganizationID=legacyOrgID;
                            updateLegacyResponse.pstrLegacySourceSystem=legacySource;
                        }
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("2aea9ada-325e-4f16-8370-d896b5a49032")]
                        send (SetErrorStatusPort.UpdateSql, updateLegacyResponse);
                        [Microsoft.XLANGs.BaseTypes.DesignerPosition("eb843068-03ab-44ab-8e18-cd02c05a83f4")]
                        suspend "Error in ImportOrganizations Orchestration. The exception is :  " + faultErrorDesc;
                    }
                }
            }
        }
    }
}

