<?xml version="1.0" encoding="utf-8"?>
<configuration>
  
  <configSections>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler,log4net" />
  </configSections>

  
  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.6.1" />
  </startup>
  
  <log4net debug="true">
    <appender name="FileAppender" type="log4net.Appender.RollingFileAppender">
      <file value="C:\Work\Application\Log\ILSQueue\ILSBackgroundTrace.log" />
      <appendToFile value="true" />
      <rollingStyle value="Size" />
      <maxSizeRollBackups value="50" />
      <maximumFileSize value="5MB" />
      <staticLogFileName value="true" />
      <lockingModel type="log4net.Appender.FileAppender+MinimalLock" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date [%thread] %level - %message%newline" />
      </layout>
      <filter type="log4net.Filter.LevelRangeFilter">
        <levelMin value="INFO" /> <!--  <levelMin value="DEBUG" /> -->
        <levelMax value="FATAL" />
      </filter>
    </appender>
    <root>
      <level value="INFO" />
      <appender-ref ref="FileAppender" />
    </root>
  </log4net>

  <system.diagnostics>
    <trace autoflush="true">
      <listeners>
        <add name="textWriterTraceListener" type="System.Diagnostics.TextWriterTraceListener" initializeData="C:\Work\Application\Log\ILSQueue\log4net.txt" />
      </listeners>
    </trace>
  </system.diagnostics>

  <appSettings>
    <add key="ILSOrderPickupTimer" value="60" /> <!-- value in second -->
    <add key="ILSOrderResultTimer" value="1000" />
    <add key="ILJobStatusTimer" value="1000" />
 
    <add key="log4net.Internal.Debug" value="true" />

    <add key="Orders_ConnectionString" value="Integrated Security=SSPI;Persist Security Info=False;Initial Catalog=Orders;Data Source=AZ1EBNTTSD4DB01.btdev.com\REPOSITORYSD4" />
    <add key="NextGenProfiles_ConnectionString" value="Integrated Security=SSPI;Persist Security Info=False;Initial Catalog=NextGen_Profiles;Data Source=AZ1EBNTTSD4DB01.btdev.com\REPOSITORYSD4" />
    <add key="Profiles_ConnectionString" value="Integrated Security=SSPI;Persist Security Info=False;Initial Catalog=Profiles;Data Source=AZ1EBNTTSD4DB01.btdev.com\REPOSITORYSD4" />
    <add key="ProductCatalog_ConnectionString" value="Integrated Security=SSPI;Persist Security Info=False;Initial Catalog=ProductCatalog;Data Source=AZ1EBNTTSD4DB01.btdev.com\REPOSITORYSD4" />

    <add key="SqlCommandTimeOut=" value="30" />
    <add key="NumberOfILSThreads" value="3" />
    <add key="MaxQueueJobStatus" value="1" />
    <add key="MaxQueueJobResult" value="1" />

    <!-- retry parameter -->
    <add key="MaxConnectionRetries" value="3" />
    <!-- RetryWaitTime in ms -->
    <add key="RetryWaitTime" value="100" />
    <add key="MongoDBConnectionString" value="mongodb://NoSQLUser:N0SQLUs3r@sit4-shard-00-00-e827s.mongodb.net:27017,sit4-shard-00-01-e827s.mongodb.net:27017,sit4-shard-00-02-e827s.mongodb.net:27017/test?ssl=true&amp;replicaSet=SIT4-shard-0&amp;authSource=admin" />

    <add key="LogFolder" value="C:\Work\Application\Log\ILSQueue\" />
    <add key="PurchaseOrderDirectory" value="PurchaseOrder"/>
    <add key="ResultDirectory" value="Result"/>
    <add key="Environment" value="SIT4"/>
    <add key="InternetSiteURL" value="https://ts360dev4.baker-taylor.com"/>
    
    <add key="PostbackURL" value="http://ts360apidev.baker-taylor.com/ils/v1.0/DEV4/SetJobStatusReady" />
    
    <add key="Encryption.IV" value="fMfNV9xbotT4HoHbKBv0wQ==" />
    <add key="Encryption.Key" value="y92NGWkTEKTCbwsO7BJYBL2n/2s1kaElIOsNsIzbAjs=" />

    
  </appSettings>

  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="System.Runtime.InteropServices.RuntimeInformation" publicKeyToken="b03f5f7f11d50a3a" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-4.0.1.0" newVersion="4.0.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-13.0.0.0" newVersion="13.0.0.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>

  <system.web>
    <compilation debug="true" targetFramework="4.5">
      <assemblies>
        <add assembly="BTNextGen.Commerce.Portal.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" />
      </assemblies>
    </compilation>
    <webServices>
      <soapExtensionTypes>
        <add type="BTNextGen.Commerce.Portal.Common.MARCExtension.XmlCleanupSoapExtension, BTNextGen.Commerce.Portal.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" priority="1" group="0" />
      </soapExtensionTypes>
    </webServices>
  </system.web>
</configuration>
